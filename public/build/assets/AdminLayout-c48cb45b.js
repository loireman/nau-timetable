import{j as e,d as U,r}from"./app-45c0dd56.js";import{A as E}from"./ApplicationLogo-e4284900.js";import{I as o}from"./iconify-aa030784.js";import{D as f}from"./Dropdown-9cd9b684.js";import{M as A}from"./Modal-783a3cd0.js";import{P as D}from"./PrimaryButton-ec66663a.js";function i({active:d=!1,className:x="",title:c="",icon:l="",children:m,...a}){return e.jsxs(U,{...a,className:"vertical-link transition duration-600 ease-in-out focus:outline-none "+(d?"active":"")+x,children:[l&&e.jsx(o,{icon:l}),c&&e.jsx("span",{children:c}),m]})}const M=r.forwardRef(function({type:x="search",className:c="",isFocused:l=!1,...m},a){const u=a||r.useRef();return r.useEffect(()=>{l&&u.current.focus()},[]),e.jsxs("div",{className:`form-search ${c}`,children:[e.jsx("button",{children:e.jsx(o,{icon:"mdi:search"})}),e.jsx("div",{className:"vr"}),e.jsx("input",{...m,type:x,ref:u})]})});function q({header:d,searchField:x=!1,addElement:c=!1,sortOptions:l=[],children:m,filterOptions:a=[]}){const[u,y]=r.useState(""),[g,v]=r.useState([]),[n,p]=r.useState([]);r.useEffect(()=>{const s=()=>{const j=new URL(window.location).searchParams,h=a.filter(w=>j.get(w.key)==="on").map(w=>w.key);v(h),p(h)};a.length>0&&s()},[a]);const S=s=>{s.preventDefault();const t=new URL(window.location);t.searchParams.set("search",u),window.location=t},b=s=>{const t=new URL(window.location);t.searchParams.set("sort",s),window.location=t},[F,N]=r.useState(!1),C=s=>{N(!0)},k=()=>{N(!1)},P=s=>{n.includes(s.key)?p(n.filter(t=>t!==s.key)):p([...n,s.key])},R=s=>{v(j=>j.filter(h=>h!==s));const t=new URL(window.location);t.searchParams.delete(s),window.location=t.toString()},L=()=>{const s=new URL(window.location);a.forEach(t=>{n.includes(t.key)||s.searchParams.delete(t.key)}),n.forEach(t=>{s.searchParams.set(t,"on")}),window.location=s};return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("div",{className:"sidebar",children:[e.jsx("a",{className:"grid justify-center w-full p-4 lg:p-6",href:route("admin"),children:e.jsx(E,{text:!0})}),e.jsxs("div",{className:"w-full py-2 px-1 lg:px-4 overflow-y-scroll",children:[e.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[e.jsx("span",{className:"py-4 px-1 text-sm lg:text-2xl w-full text-start",children:"Main"}),e.jsx(i,{href:route("admin"),active:route().current("admin"),icon:"mdi:home-analytics",title:"Dashboard"})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[e.jsx("span",{className:"py-4 px-1 text-sm lg:text-2xl w-full text-start",children:"Timetable"}),e.jsx(i,{href:route("department.index"),active:route().current("department.(index|create|edit)"),icon:"mdi:office-building-cog",title:"Departments"}),e.jsx(i,{href:route("stream.index"),active:route().current("stream.(index|create|edit)"),icon:"mdi:account-group",title:"Streams"}),e.jsx(i,{href:route("group.index"),active:route().current("group.(index|create|edit)"),icon:"mdi:account-group-outline",title:"Groups"}),e.jsx(i,{href:route("timetable.index"),active:route().current("timetable.(index|create|edit)"),icon:"mdi:timetable",title:"Timetables"})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[e.jsx("span",{className:"py-4 px-1 text-sm lg:text-2xl w-full text-start",children:"User edit"}),e.jsx(i,{href:route("user.index"),active:route().current("user.(index|create|edit)"),icon:"mdi:account-multiple",title:"Users"}),e.jsx(i,{href:route("role.index"),active:route().current("role.(index|create|edit)"),icon:"mdi:account-cog",title:"Roles"}),e.jsx(i,{href:route("permission.index"),active:route().current("permission.(index|create|edit)"),icon:"mdi:lock",title:"Permissions"})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[e.jsx("span",{className:"py-4 px-1 text-sm lg:text-2xl w-full text-start",children:"Server"}),e.jsx(i,{href:route("config.index"),active:route().current("config.(index|create|edit)"),icon:"mdi:settings",title:"Configs"})]})]}),e.jsx(i,{className:"mt-4",href:route("dashboard"),icon:"mdi:exit-to-app",title:"To the main"})]}),e.jsxs("div",{className:"w-full pl-20 lg:pl-[10rem]",children:[e.jsxs("div",{className:"admin-header max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[d&&e.jsx("header",{children:d}),x&&e.jsx("form",{onSubmit:S,children:e.jsx(M,{className:"w-full",value:u,onChange:s=>y(s.target.value)})}),a.length!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"options-block",children:[e.jsx("div",{className:"chip filter active",onClick:()=>C(),children:"Filters"}),g.length!==0&&e.jsx(e.Fragment,{children:g.map((s,t)=>e.jsxs("div",{className:"chip filter",children:[s,e.jsx(o,{icon:"mdi:close",onClick:()=>R(s)})]},t))})]}),e.jsx(A,{show:F,onClose:k,children:e.jsxs("div",{className:"card-modal",children:[e.jsx("button",{className:"fixed right-4",onClick:k,children:e.jsx(o,{icon:"mdi:close"})}),e.jsx("div",{children:e.jsx("h5",{className:"form-text",children:"Filters"})}),e.jsx("div",{children:a.map((s,t)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:s.key,checked:n.includes(s.key),onChange:()=>P(s)}),e.jsxs("span",{className:"ml-2 text-sm",children:[s.key,s.value!==null&&` (${s.value})`]})]},t))}),e.jsx(D,{className:"mt-6 w-full grid",onClick:L,children:e.jsx("span",{children:"Filter"})})]})})]}),e.jsxs("div",{className:"flex justify-between",children:[l.length!=0&&e.jsxs(f,{className:"w-fit",children:[e.jsx(f.Trigger,{children:e.jsxs("span",{className:"flex w-fit gap-2 items-center lg:text-2xl",children:["Sort",e.jsx(o,{icon:"mdi:sort",className:"md:w-6 md:h-6"})]})}),e.jsx(f.Content,{align:"left",children:l.map((s,t)=>e.jsx(f.Link,{onClick:()=>b(s.key),children:s.label},t))})]}),c&&e.jsxs("a",{href:route(route().current())+"/create",className:"admin-create",children:[e.jsx(o,{icon:"mdi:plus",className:"md:w-6 md:h-6"}),e.jsx("span",{className:"font-medium md:text-2xl",children:"Create"})]})]})]}),e.jsx("main",{children:m})]})]})}export{q as A};
