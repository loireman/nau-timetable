import{h as Ee,r as Pt,i as Bs,j as U,a as Ks,Q as Hs}from"./app-35e9a199.js";import{A as or}from"./ApplicationLogo-f55cd9fd.js";import{I as ke}from"./InputLabel-ba373f23.js";import{T as be,I as Gs}from"./TextInput-bff32b31.js";import{I as ks}from"./InputSwitch-a1457a5c.js";import{P as ze}from"./PrimaryButton-49d7adbd.js";import{C as ur}from"./Checkbox-966ad274.js";import{R as Qe}from"./Radio-271b411d.js";import{S as zs}from"./Select-7c836551.js";var Gr={exports:{}},oe={exports:{}};/**
 * @license
 * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */oe.exports;var lr;function yt(){return lr||(lr=1,function(w,_){(function(){var v,h=[],f=[],p=0,s=+new Date+"",o=75,i=40,t=` 	\v\f \uFEFF
\r\u2028\u2029 ᠎             　`,n=/\b__p \+= '';/g,a=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,u=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/\w*$/,y=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,L=RegExp("^["+t+"]*0+(?=.$)"),S=/($^)/,D=/\bthis\b/,R=/['\n\r\t\u2028\u2029\\]/g,F=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,B="[object Arguments]",it="[object Array]",V="[object Boolean]",J="[object Date]",_t="[object Function]",et="[object Number]",H="[object Object]",z="[object RegExp]",k="[object String]",Y={};Y[_t]=!1,Y[B]=Y[it]=Y[V]=Y[J]=Y[et]=Y[H]=Y[z]=Y[k]=!0;var nt={leading:!1,maxWait:0,trailing:!1},$={configurable:!1,enumerable:!1,value:null,writable:!1},G={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},wt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},zt=G[typeof window]&&window||this,ue=_&&!_.nodeType&&_,le=w&&!w.nodeType&&w,$r=le&&le.exports===ue&&ue,Ut=G[typeof Ee]&&Ee;Ut&&(Ut.global===Ut||Ut.window===Ut)&&(zt=Ut);function jt(I,P,K){for(var Q=(K||0)-1,X=I?I.length:0;++Q<X;)if(I[Q]===P)return Q;return-1}function ae(I,P){var K=typeof P;if(I=I.cache,K=="boolean"||P==null)return I[P]?0:-1;K!="number"&&K!="string"&&(K="object");var Q=K=="number"?P:s+P;return I=(I=I[K])&&I[Q],K=="object"?I&&jt(I,P)>-1?0:-1:I?0:-1}function Zr(I){var P=this.cache,K=typeof I;if(K=="boolean"||I==null)P[I]=!0;else{K!="number"&&K!="string"&&(K="object");var Q=K=="number"?I:s+I,X=P[K]||(P[K]={});K=="object"?(X[Q]||(X[Q]=[])).push(I):X[Q]=!0}}function In(I){return I.charCodeAt(0)}function Jr(I,P){for(var K=I.criteria,Q=P.criteria,X=-1,gt=K.length;++X<gt;){var bt=K[X],st=Q[X];if(bt!==st){if(bt>st||typeof bt>"u")return 1;if(bt<st||typeof st>"u")return-1}}return I.index-P.index}function we(I){var P=-1,K=I.length,Q=I[0],X=I[K/2|0],gt=I[K-1];if(Q&&typeof Q=="object"&&X&&typeof X=="object"&&gt&&typeof gt=="object")return!1;var bt=xe();bt.false=bt.null=bt.true=bt.undefined=!1;var st=xe();for(st.array=I,st.cache=bt,st.push=Zr;++P<K;)st.push(I[P]);return st}function ti(I){return"\\"+wt[I]}function Ct(){return h.pop()||[]}function xe(){return f.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function xt(I){I.length=0,h.length<i&&h.push(I)}function Qt(I){var P=I.cache;P&&Qt(P),I.array=I.cache=I.criteria=I.object=I.number=I.string=I.value=null,f.length<i&&f.push(I)}function W(I,P,K){P||(P=0),typeof K>"u"&&(K=I?I.length:0);for(var Q=-1,X=K-P||0,gt=Array(X<0?0:X);++Q<X;)gt[Q]=I[P+Q];return gt}function Le(I){I=I?Bt.defaults(zt.Object(),I,Bt.pick(zt,F)):zt;var P=I.Array,K=I.Boolean,Q=I.Date,X=I.Function,gt=I.Math,bt=I.Number,st=I.Object,Vt=I.RegExp,It=I.String,Nt=I.TypeError,Kt=[],On=st.prototype,ei=I._,at=On.toString,ni=Vt("^"+It(at).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ri=gt.ceil,fe=I.clearTimeout,ii=gt.floor,si=X.prototype.toString,Ht=Rt(Ht=st.getPrototypeOf)&&Ht,ft=On.hasOwnProperty,Yt=Kt.push,Wt=I.setTimeout,Rn=Kt.splice,oi=Kt.unshift,Mn=function(){try{var e={},r=Rt(r=st.defineProperty)&&r,c=r(e,e,e)&&r}catch{}return c}(),he=Rt(he=st.create)&&he,Ce=Rt(Ce=P.isArray)&&Ce,ui=I.isFinite,li=I.isNaN,ce=Rt(ce=st.keys)&&ce,Lt=gt.max,Xt=gt.min,Ae=I.parseInt,Fn=gt.random,qt={};qt[it]=P,qt[V]=K,qt[J]=Q,qt[_t]=X,qt[H]=st,qt[et]=bt,qt[z]=Vt,qt[k]=It;function E(e){return e&&typeof e=="object"&&!lt(e)&&ft.call(e,"__wrapped__")?e:new Mt(e)}function Mt(e,r){this.__chain__=!!r,this.__wrapped__=e}Mt.prototype=E.prototype;var $t=E.support={};$t.funcDecomp=!Rt(I.WinRTError)&&D.test(Le),$t.funcNames=typeof X.name=="string",E.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:E}};function ai(e){var r=e[0],c=e[2],d=e[4];function m(){if(c){var b=W(c);Yt.apply(b,arguments)}if(this instanceof m){var x=Zt(r.prototype),C=r.apply(x,b||arguments);return ct(C)?C:x}return r.apply(d,b||arguments)}return Ie(m,e),m}function Se(e,r,c,d,m){if(c){var b=c(e);if(typeof b<"u")return b}var x=ct(e);if(x){var C=at.call(e);if(!Y[C])return e;var A=qt[C];switch(C){case V:case J:return new A(+e);case et:case k:return new A(e);case z:return b=A(e.source,g.exec(e)),b.lastIndex=e.lastIndex,b}}else return e;var N=lt(e);if(r){var q=!d;d||(d=Ct()),m||(m=Ct());for(var O=d.length;O--;)if(d[O]==e)return m[O];b=N?A(e.length):{}}else b=N?W(e):ge({},e);return N&&(ft.call(e,"index")&&(b.index=e.index),ft.call(e,"input")&&(b.input=e.input)),r&&(d.push(e),m.push(b),(N?pt:tt)(e,function(M,rt){b[rt]=Se(M,r,c,d,m)}),q&&(xt(d),xt(m))),b}function Zt(e,r){return ct(e)?he(e):{}}he||(Zt=function(){function e(){}return function(r){if(ct(r)){e.prototype=r;var c=new e;e.prototype=null}return c||I.Object()}}());function mt(e,r,c){if(typeof e!="function")return Ke;if(typeof r>"u"||!("prototype"in e))return e;var d=e.__bindData__;if(typeof d>"u"&&($t.funcNames&&(d=!e.name),d=d||!$t.funcDecomp,!d)){var m=si.call(e);$t.funcNames||(d=!y.test(m)),d||(d=D.test(m),Ie(e,d))}if(d===!1||d!==!0&&d[1]&1)return e;switch(c){case 1:return function(b){return e.call(r,b)};case 2:return function(b,x){return e.call(r,b,x)};case 3:return function(b,x,C){return e.call(r,b,x,C)};case 4:return function(b,x,C,A){return e.call(r,b,x,C,A)}}return er(e,r)}function Pn(e){var r=e[0],c=e[1],d=e[2],m=e[3],b=e[4],x=e[5],C=c&1,A=c&2,N=c&4,q=c&8,O=r;function M(){var rt=C?b:this;if(d){var Z=W(d);Yt.apply(Z,arguments)}if((m||N)&&(Z||(Z=W(arguments)),m&&Yt.apply(Z,m),N&&Z.length<x))return c|=16,Pn([r,q?c:c&-4,Z,null,b,x]);if(Z||(Z=arguments),A&&(r=rt[O]),this instanceof M){rt=Zt(r.prototype);var vt=r.apply(rt,Z);return ct(vt)?vt:rt}return r.apply(rt,Z)}return Ie(M,e),M}function Jt(e,r){var c=-1,d=pe(),m=e?e.length:0,b=m>=o&&d===jt,x=[];if(b){var C=we(r);C?(d=ae,r=C):b=!1}for(;++c<m;){var A=e[c];d(r,A)<0&&x.push(A)}return b&&Qt(r),x}function Ot(e,r,c,d){for(var m=(d||0)-1,b=e?e.length:0,x=[];++m<b;){var C=e[m];if(C&&typeof C=="object"&&typeof C.length=="number"&&(lt(C)||de(C))){r||(C=Ot(C,r,c));var A=-1,N=C.length,q=x.length;for(x.length+=N;++A<N;)x[q++]=C[A]}else c||x.push(C)}return x}function Gt(e,r,c,d,m,b){if(c){var x=c(e,r);if(typeof x<"u")return!!x}if(e===r)return e!==0||1/e==1/r;var C=typeof e,A=typeof r;if(e===e&&!(e&&G[C])&&!(r&&G[A]))return!1;if(e==null||r==null)return e===r;var N=at.call(e),q=at.call(r);if(N==B&&(N=H),q==B&&(q=H),N!=q)return!1;switch(N){case V:case J:return+e==+r;case et:return e!=+e?r!=+r:e==0?1/e==1/r:e==+r;case z:case k:return e==It(r)}var O=N==it;if(!O){var M=ft.call(e,"__wrapped__"),rt=ft.call(r,"__wrapped__");if(M||rt)return Gt(M?e.__wrapped__:e,rt?r.__wrapped__:r,c,d,m,b);if(N!=H)return!1;var Z=e.constructor,vt=r.constructor;if(Z!=vt&&!(ot(Z)&&Z instanceof Z&&ot(vt)&&vt instanceof vt)&&"constructor"in e&&"constructor"in r)return!1}var Et=!m;m||(m=Ct()),b||(b=Ct());for(var dt=m.length;dt--;)if(m[dt]==e)return b[dt]==r;var ut=0;if(x=!0,m.push(e),b.push(r),O){if(dt=e.length,ut=r.length,x=ut==dt,x||d)for(;ut--;){var _e=dt,re=r[ut];if(d)for(;_e--&&!(x=Gt(e[_e],re,c,d,m,b)););else if(!(x=Gt(e[ut],re,c,d,m,b)))break}}else Dt(r,function(ie,se,Ge){if(ft.call(Ge,se))return ut++,x=ft.call(e,se)&&Gt(e[se],ie,c,d,m,b)}),x&&!d&&Dt(e,function(ie,se,Ge){if(ft.call(Ge,se))return x=--ut>-1});return m.pop(),b.pop(),Et&&(xt(m),xt(b)),x}function Un(e,r,c,d,m){(lt(r)?pt:tt)(r,function(b,x){var C,A,N=b,q=e[x];if(b&&((A=lt(b))||Me(b))){for(var O=d.length;O--;)if(C=d[O]==b){q=m[O];break}if(!C){var M;c&&(N=c(q,b),(M=typeof N<"u")&&(q=N)),M||(q=A?lt(q)?q:[]:Me(q)?q:{}),d.push(b),m.push(q),M||Un(q,b,c,d,m)}}else c&&(N=c(q,b),typeof N>"u"&&(N=b)),typeof N<"u"&&(q=N);e[x]=q})}function Ne(e,r){return e+ii(Fn()*(r-e+1))}function qe(e,r,c){var d=-1,m=pe(),b=e?e.length:0,x=[],C=!r&&b>=o&&m===jt,A=c||C?Ct():x;if(C){var N=we(A);m=ae,A=N}for(;++d<b;){var q=e[d],O=c?c(q,d,e):q;(r?!d||A[A.length-1]!==O:m(A,O)<0)&&((c||C)&&A.push(O),x.push(q))}return C?(xt(A.array),Qt(A)):c&&xt(A),x}function De(e){return function(r,c,d){var m={};c=E.createCallback(c,d,3);var b=-1,x=r?r.length:0;if(typeof x=="number")for(;++b<x;){var C=r[b];e(m,C,c(C,b,r),r)}else tt(r,function(A,N,q){e(m,A,c(A,N,q),q)});return m}}function At(e,r,c,d,m,b){var x=r&1,C=r&2,A=r&4,N=r&16,q=r&32;if(!C&&!ot(e))throw new Nt;N&&!c.length&&(r&=-17,N=c=!1),q&&!d.length&&(r&=-33,q=d=!1);var O=e&&e.__bindData__;if(O&&O!==!0)return O=W(O),O[2]&&(O[2]=W(O[2])),O[3]&&(O[3]=W(O[3])),x&&!(O[1]&1)&&(O[4]=m),!x&&O[1]&1&&(r|=8),A&&!(O[1]&4)&&(O[5]=b),N&&Yt.apply(O[2]||(O[2]=[]),c),q&&oi.apply(O[3]||(O[3]=[]),d),O[1]|=r,At.apply(null,O);var M=r==1||r===17?ai:Pn;return M([e,r,c,d,m,b])}function fi(e){return Oe[e]}function pe(){var e=(e=E.indexOf)===Xn?jt:e;return e}function Rt(e){return typeof e=="function"&&ni.test(e)}var Ie=Mn?function(e,r){$.value=r,Mn(e,"__bindData__",$),$.value=null}:rr;function jn(e){var r,c;return!(e&&at.call(e)==H)||(r=e.constructor,ot(r)&&!(r instanceof r))?!1:(Dt(e,function(d,m){c=m}),typeof c>"u"||ft.call(e,c))}function hi(e){return Bn[e]}function de(e){return e&&typeof e=="object"&&typeof e.length=="number"&&at.call(e)==B||!1}var lt=Ce||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&at.call(e)==it||!1},ci=function(e){var r,c=e,d=[];if(!c||!G[typeof e])return d;for(r in c)ft.call(c,r)&&d.push(r);return d},ht=ce?function(e){return ct(e)?ce(e):[]}:ci,Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bn=Hn(Oe),pi=Vt("("+ht(Bn).join("|")+")","g"),di=Vt("["+ht(Oe).join("")+"]","g"),ge=function(e,r,c){var d,m=e,b=m;if(!m)return b;var x=arguments,C=0,A=typeof c=="number"?2:x.length;if(A>3&&typeof x[A-2]=="function")var N=mt(x[--A-1],x[A--],2);else A>2&&typeof x[A-1]=="function"&&(N=x[--A]);for(;++C<A;)if(m=x[C],m&&G[typeof m])for(var q=-1,O=G[typeof m]&&ht(m),M=O?O.length:0;++q<M;)d=O[q],b[d]=N?N(b[d],m[d]):m[d];return b};function gi(e,r,c,d){return typeof r!="boolean"&&r!=null&&(d=c,c=r,r=!1),Se(e,r,typeof c=="function"&&mt(c,d,1))}function mi(e,r,c){return Se(e,!0,typeof r=="function"&&mt(r,c,1))}function vi(e,r){var c=Zt(e);return r?ge(c,r):c}var Re=function(e,r,c){var d,m=e,b=m;if(!m)return b;for(var x=arguments,C=0,A=typeof c=="number"?2:x.length;++C<A;)if(m=x[C],m&&G[typeof m])for(var N=-1,q=G[typeof m]&&ht(m),O=q?q.length:0;++N<O;)d=q[N],typeof b[d]>"u"&&(b[d]=m[d]);return b};function yi(e,r,c){var d;return r=E.createCallback(r,c,3),tt(e,function(m,b,x){if(r(m,b,x))return d=b,!1}),d}function _i(e,r,c){var d;return r=E.createCallback(r,c,3),Kn(e,function(m,b,x){if(r(m,b,x))return d=b,!1}),d}var Dt=function(e,r,c){var d,m=e,b=m;if(!m||!G[typeof m])return b;r=r&&typeof c>"u"?r:mt(r,c,3);for(d in m)if(r(m[d],d,e)===!1)return b;return b};function bi(e,r,c){var d=[];Dt(e,function(b,x){d.push(x,b)});var m=d.length;for(r=mt(r,c,3);m--&&r(d[m--],d[m],e)!==!1;);return e}var tt=function(e,r,c){var d,m=e,b=m;if(!m||!G[typeof m])return b;r=r&&typeof c>"u"?r:mt(r,c,3);for(var x=-1,C=G[typeof m]&&ht(m),A=C?C.length:0;++x<A;)if(d=C[x],r(m[d],d,e)===!1)return b;return b};function Kn(e,r,c){var d=ht(e),m=d.length;for(r=mt(r,c,3);m--;){var b=d[m];if(r(e[b],b,e)===!1)break}return e}function te(e){var r=[];return Dt(e,function(c,d){ot(c)&&r.push(d)}),r.sort()}function Ei(e,r){return e?ft.call(e,r):!1}function Hn(e){for(var r=-1,c=ht(e),d=c.length,m={};++r<d;){var b=c[r];m[e[b]]=b}return m}function Ti(e){return e===!0||e===!1||e&&typeof e=="object"&&at.call(e)==V||!1}function wi(e){return e&&typeof e=="object"&&at.call(e)==J||!1}function xi(e){return e&&e.nodeType===1||!1}function Li(e){var r=!0;if(!e)return r;var c=at.call(e),d=e.length;return c==it||c==k||c==B||c==H&&typeof d=="number"&&ot(e.splice)?!d:(tt(e,function(){return r=!1}),r)}function Ci(e,r,c,d){return Gt(e,r,typeof c=="function"&&mt(c,d,2))}function Ai(e){return ui(e)&&!li(parseFloat(e))}function ot(e){return typeof e=="function"}function ct(e){return!!(e&&G[typeof e])}function Si(e){return Gn(e)&&e!=+e}function Ni(e){return e===null}function Gn(e){return typeof e=="number"||e&&typeof e=="object"&&at.call(e)==et||!1}var Me=Ht?function(e){if(!(e&&at.call(e)==H))return!1;var r=e.valueOf,c=Rt(r)&&(c=Ht(r))&&Ht(c);return c?e==c||Ht(e)==c:jn(e)}:jn;function qi(e){return e&&typeof e=="object"&&at.call(e)==z||!1}function ee(e){return typeof e=="string"||e&&typeof e=="object"&&at.call(e)==k||!1}function Di(e){return typeof e>"u"}function Ii(e,r,c){var d={};return r=E.createCallback(r,c,3),tt(e,function(m,b,x){d[b]=r(m,b,x)}),d}function Oi(e){var r=arguments,c=2;if(!ct(e))return e;if(typeof r[2]!="number"&&(c=r.length),c>3&&typeof r[c-2]=="function")var d=mt(r[--c-1],r[c--],2);else c>2&&typeof r[c-1]=="function"&&(d=r[--c]);for(var m=W(arguments,1,c),b=-1,x=Ct(),C=Ct();++b<c;)Un(e,m[b],d,x,C);return xt(x),xt(C),e}function Ri(e,r,c){var d={};if(typeof r!="function"){var m=[];Dt(e,function(A,N){m.push(N)}),m=Jt(m,Ot(arguments,!0,!1,1));for(var b=-1,x=m.length;++b<x;){var C=m[b];d[C]=e[C]}}else r=E.createCallback(r,c,3),Dt(e,function(A,N,q){r(A,N,q)||(d[N]=A)});return d}function Mi(e){for(var r=-1,c=ht(e),d=c.length,m=P(d);++r<d;){var b=c[r];m[r]=[b,e[b]]}return m}function Fi(e,r,c){var d={};if(typeof r!="function")for(var m=-1,b=Ot(arguments,!0,!1,1),x=ct(e)?b.length:0;++m<x;){var C=b[m];C in e&&(d[C]=e[C])}else r=E.createCallback(r,c,3),Dt(e,function(A,N,q){r(A,N,q)&&(d[N]=A)});return d}function Pi(e,r,c,d){var m=lt(e);if(c==null)if(m)c=[];else{var b=e&&e.constructor,x=b&&b.prototype;c=Zt(x)}return r&&(r=E.createCallback(r,d,4),(m?pt:tt)(e,function(C,A,N){return r(c,C,A,N)})),c}function me(e){for(var r=-1,c=ht(e),d=c.length,m=P(d);++r<d;)m[r]=e[c[r]];return m}function Ui(e){for(var r=arguments,c=-1,d=Ot(r,!0,!1,1),m=r[2]&&r[2][r[1]]===e?1:d.length,b=P(m);++c<m;)b[c]=e[d[c]];return b}function kn(e,r,c){var d=-1,m=pe(),b=e?e.length:0,x=!1;return c=(c<0?Lt(0,b+c):c)||0,lt(e)?x=m(e,r,c)>-1:typeof b=="number"?x=(ee(e)?e.indexOf(r,c):m(e,r,c))>-1:tt(e,function(C){if(++d>=c)return!(x=C===r)}),x}var ji=De(function(e,r,c){ft.call(e,c)?e[c]++:e[c]=1});function zn(e,r,c){var d=!0;r=E.createCallback(r,c,3);var m=-1,b=e?e.length:0;if(typeof b=="number")for(;++m<b&&(d=!!r(e[m],m,e)););else tt(e,function(x,C,A){return d=!!r(x,C,A)});return d}function ve(e,r,c){var d=[];r=E.createCallback(r,c,3);var m=-1,b=e?e.length:0;if(typeof b=="number")for(;++m<b;){var x=e[m];r(x,m,e)&&d.push(x)}else tt(e,function(C,A,N){r(C,A,N)&&d.push(C)});return d}function Fe(e,r,c){r=E.createCallback(r,c,3);var d=-1,m=e?e.length:0;if(typeof m=="number")for(;++d<m;){var b=e[d];if(r(b,d,e))return b}else{var x;return tt(e,function(C,A,N){if(r(C,A,N))return x=C,!1}),x}}function Bi(e,r,c){var d;return r=E.createCallback(r,c,3),ye(e,function(m,b,x){if(r(m,b,x))return d=m,!1}),d}function pt(e,r,c){var d=-1,m=e?e.length:0;if(r=r&&typeof c>"u"?r:mt(r,c,3),typeof m=="number")for(;++d<m&&r(e[d],d,e)!==!1;);else tt(e,r);return e}function ye(e,r,c){var d=e?e.length:0;if(r=r&&typeof c>"u"?r:mt(r,c,3),typeof d=="number")for(;d--&&r(e[d],d,e)!==!1;);else{var m=ht(e);d=m.length,tt(e,function(b,x,C){return x=m?m[--d]:--d,r(C[x],x,C)})}return e}var Ki=De(function(e,r,c){(ft.call(e,c)?e[c]:e[c]=[]).push(r)}),Hi=De(function(e,r,c){e[c]=r});function Gi(e,r){var c=W(arguments,2),d=-1,m=typeof r=="function",b=e?e.length:0,x=P(typeof b=="number"?b:0);return pt(e,function(C){x[++d]=(m?r:C[r]).apply(C,c)}),x}function ne(e,r,c){var d=-1,m=e?e.length:0;if(r=E.createCallback(r,c,3),typeof m=="number")for(var b=P(m);++d<m;)b[d]=r(e[d],d,e);else b=[],tt(e,function(x,C,A){b[++d]=r(x,C,A)});return b}function Qn(e,r,c){var d=-1/0,m=d;if(typeof r!="function"&&c&&c[r]===e&&(r=null),r==null&&lt(e))for(var b=-1,x=e.length;++b<x;){var C=e[b];C>m&&(m=C)}else r=r==null&&ee(e)?In:E.createCallback(r,c,3),pt(e,function(A,N,q){var O=r(A,N,q);O>d&&(d=O,m=A)});return m}function ki(e,r,c){var d=1/0,m=d;if(typeof r!="function"&&c&&c[r]===e&&(r=null),r==null&&lt(e))for(var b=-1,x=e.length;++b<x;){var C=e[b];C<m&&(m=C)}else r=r==null&&ee(e)?In:E.createCallback(r,c,3),pt(e,function(A,N,q){var O=r(A,N,q);O<d&&(d=O,m=A)});return m}var Pe=ne;function Ue(e,r,c,d){if(!e)return c;var m=arguments.length<3;r=E.createCallback(r,d,4);var b=-1,x=e.length;if(typeof x=="number")for(m&&(c=e[++b]);++b<x;)c=r(c,e[b],b,e);else tt(e,function(C,A,N){c=m?(m=!1,C):r(c,C,A,N)});return c}function Vn(e,r,c,d){var m=arguments.length<3;return r=E.createCallback(r,d,4),ye(e,function(b,x,C){c=m?(m=!1,b):r(c,b,x,C)}),c}function zi(e,r,c){return r=E.createCallback(r,c,3),ve(e,function(d,m,b){return!r(d,m,b)})}function Qi(e,r,c){if(e&&typeof e.length!="number"&&(e=me(e)),r==null||c)return e?e[Ne(0,e.length-1)]:v;var d=Yn(e);return d.length=Xt(Lt(0,r),d.length),d}function Yn(e){var r=-1,c=e?e.length:0,d=P(typeof c=="number"?c:0);return pt(e,function(m){var b=Ne(0,++r);d[r]=d[b],d[b]=m}),d}function Vi(e){var r=e?e.length:0;return typeof r=="number"?r:ht(e).length}function Wn(e,r,c){var d;r=E.createCallback(r,c,3);var m=-1,b=e?e.length:0;if(typeof b=="number")for(;++m<b&&!(d=r(e[m],m,e)););else tt(e,function(x,C,A){return!(d=r(x,C,A))});return!!d}function Yi(e,r,c){var d=-1,m=lt(r),b=e?e.length:0,x=P(typeof b=="number"?b:0);for(m||(r=E.createCallback(r,c,3)),pt(e,function(A,N,q){var O=x[++d]=xe();m?O.criteria=ne(r,function(M){return A[M]}):(O.criteria=Ct())[0]=r(A,N,q),O.index=d,O.value=A}),b=x.length,x.sort(Jr);b--;){var C=x[b];x[b]=C.value,m||xt(C.criteria),Qt(C)}return x}function Wi(e){return e&&typeof e.length=="number"?W(e):me(e)}var Xi=ve;function $i(e){for(var r=-1,c=e?e.length:0,d=[];++r<c;){var m=e[r];m&&d.push(m)}return d}function Zi(e){return Jt(e,Ot(arguments,!0,!0,1))}function Ji(e,r,c){var d=-1,m=e?e.length:0;for(r=E.createCallback(r,c,3);++d<m;)if(r(e[d],d,e))return d;return-1}function ts(e,r,c){var d=e?e.length:0;for(r=E.createCallback(r,c,3);d--;)if(r(e[d],d,e))return d;return-1}function je(e,r,c){var d=0,m=e?e.length:0;if(typeof r!="number"&&r!=null){var b=-1;for(r=E.createCallback(r,c,3);++b<m&&r(e[b],b,e);)d++}else if(d=r,d==null||c)return e?e[0]:v;return W(e,0,Xt(Lt(0,d),m))}function es(e,r,c,d){return typeof r!="boolean"&&r!=null&&(d=c,c=typeof r!="function"&&d&&d[r]===e?null:r,r=!1),c!=null&&(e=ne(e,c,d)),Ot(e,r)}function Xn(e,r,c){if(typeof c=="number"){var d=e?e.length:0;c=c<0?Lt(0,d+c):c||0}else if(c){var m=$n(e,r);return e[m]===r?m:-1}return jt(e,r,c)}function ns(e,r,c){var d=0,m=e?e.length:0;if(typeof r!="number"&&r!=null){var b=m;for(r=E.createCallback(r,c,3);b--&&r(e[b],b,e);)d++}else d=r==null||c?1:r||d;return W(e,0,Xt(Lt(0,m-d),m))}function rs(){for(var e=[],r=-1,c=arguments.length,d=Ct(),m=pe(),b=m===jt,x=Ct();++r<c;){var C=arguments[r];(lt(C)||de(C))&&(e.push(C),d.push(b&&C.length>=o&&we(r?e[r]:x)))}var A=e[0],N=-1,q=A?A.length:0,O=[];t:for(;++N<q;){var M=d[0];if(C=A[N],(M?ae(M,C):m(x,C))<0){for(r=c,(M||x).push(C);--r;)if(M=d[r],(M?ae(M,C):m(e[r],C))<0)continue t;O.push(C)}}for(;c--;)M=d[c],M&&Qt(M);return xt(d),xt(x),O}function is(e,r,c){var d=0,m=e?e.length:0;if(typeof r!="number"&&r!=null){var b=m;for(r=E.createCallback(r,c,3);b--&&r(e[b],b,e);)d++}else if(d=r,d==null||c)return e?e[m-1]:v;return W(e,Lt(0,m-d))}function ss(e,r,c){var d=e?e.length:0;for(typeof c=="number"&&(d=(c<0?Lt(0,d+c):Xt(c,d-1))+1);d--;)if(e[d]===r)return d;return-1}function os(e){for(var r=arguments,c=0,d=r.length,m=e?e.length:0;++c<d;)for(var b=-1,x=r[c];++b<m;)e[b]===x&&(Rn.call(e,b--,1),m--);return e}function us(e,r,c){e=+e||0,c=typeof c=="number"?c:+c||1,r==null&&(r=e,e=0);for(var d=-1,m=Lt(0,ri((r-e)/(c||1))),b=P(m);++d<m;)b[d]=e,e+=c;return b}function ls(e,r,c){var d=-1,m=e?e.length:0,b=[];for(r=E.createCallback(r,c,3);++d<m;){var x=e[d];r(x,d,e)&&(b.push(x),Rn.call(e,d--,1),m--)}return b}function Be(e,r,c){if(typeof r!="number"&&r!=null){var d=0,m=-1,b=e?e.length:0;for(r=E.createCallback(r,c,3);++m<b&&r(e[m],m,e);)d++}else d=r==null||c?1:Lt(0,r);return W(e,d)}function $n(e,r,c,d){var m=0,b=e?e.length:m;for(c=c?E.createCallback(c,d,1):Ke,r=c(r);m<b;){var x=m+b>>>1;c(e[x])<r?m=x+1:b=x}return m}function as(){return qe(Ot(arguments,!0,!0))}function Zn(e,r,c,d){return typeof r!="boolean"&&r!=null&&(d=c,c=typeof r!="function"&&d&&d[r]===e?null:r,r=!1),c!=null&&(c=E.createCallback(c,d,3)),qe(e,r,c)}function fs(e){return Jt(e,W(arguments,1))}function hs(){for(var e=-1,r=arguments.length;++e<r;){var c=arguments[e];if(lt(c)||de(c))var d=d?qe(Jt(d,c).concat(Jt(c,d))):c}return d||[]}function Jn(){for(var e=arguments.length>1?arguments:arguments[0],r=-1,c=e?Qn(Pe(e,"length")):0,d=P(c<0?0:c);++r<c;)d[r]=Pe(e,r);return d}function tr(e,r){var c=-1,d=e?e.length:0,m={};for(!r&&d&&!lt(e[0])&&(r=[]);++c<d;){var b=e[c];r?m[b]=r[c]:b&&(m[b[0]]=b[1])}return m}function cs(e,r){if(!ot(r))throw new Nt;return function(){if(--e<1)return r.apply(this,arguments)}}function er(e,r){return arguments.length>2?At(e,17,W(arguments,2),null,r):At(e,1,null,null,r)}function ps(e){for(var r=arguments.length>1?Ot(arguments,!0,!1,1):te(e),c=-1,d=r.length;++c<d;){var m=r[c];e[m]=At(e[m],1,null,null,e)}return e}function ds(e,r){return arguments.length>2?At(r,19,W(arguments,2),null,e):At(r,3,null,null,e)}function gs(){for(var e=arguments,r=e.length;r--;)if(!ot(e[r]))throw new Nt;return function(){for(var c=arguments,d=e.length;d--;)c=[e[d].apply(this,c)];return c[0]}}function ms(e,r){return r=typeof r=="number"?r:+r||e.length,At(e,4,null,null,null,r)}function nr(e,r,c){var d,m,b,x,C,A,N,q=0,O=!1,M=!0;if(!ot(e))throw new Nt;if(r=Lt(0,r)||0,c===!0){var rt=!0;M=!1}else ct(c)&&(rt=c.leading,O="maxWait"in c&&(Lt(r,c.maxWait)||0),M="trailing"in c?c.trailing:M);var Z=function(){var Et=r-(Ft()-x);if(Et<=0){m&&fe(m);var dt=N;m=A=N=v,dt&&(q=Ft(),b=e.apply(C,d),!A&&!m&&(d=C=null))}else A=Wt(Z,Et)},vt=function(){A&&fe(A),m=A=N=v,(M||O!==r)&&(q=Ft(),b=e.apply(C,d),!A&&!m&&(d=C=null))};return function(){if(d=arguments,x=Ft(),C=this,N=M&&(A||!rt),O===!1)var Et=rt&&!A;else{!m&&!rt&&(q=x);var dt=O-(x-q),ut=dt<=0;ut?(m&&(m=fe(m)),q=x,b=e.apply(C,d)):m||(m=Wt(vt,dt))}return ut&&A?A=fe(A):!A&&r!==O&&(A=Wt(Z,r)),Et&&(ut=!0,b=e.apply(C,d)),ut&&!A&&!m&&(d=C=null),b}}function vs(e){if(!ot(e))throw new Nt;var r=W(arguments,1);return Wt(function(){e.apply(v,r)},1)}function ys(e,r){if(!ot(e))throw new Nt;var c=W(arguments,2);return Wt(function(){e.apply(v,c)},r)}function _s(e,r){if(!ot(e))throw new Nt;var c=function(){var d=c.cache,m=r?r.apply(this,arguments):s+arguments[0];return ft.call(d,m)?d[m]:d[m]=e.apply(this,arguments)};return c.cache={},c}function bs(e){var r,c;if(!ot(e))throw new Nt;return function(){return r||(r=!0,c=e.apply(this,arguments),e=null),c}}function Es(e){return At(e,16,W(arguments,1))}function Ts(e){return At(e,32,null,W(arguments,1))}function ws(e,r,c){var d=!0,m=!0;if(!ot(e))throw new Nt;return c===!1?d=!1:ct(c)&&(d="leading"in c?c.leading:d,m="trailing"in c?c.trailing:m),nt.leading=d,nt.maxWait=r,nt.trailing=m,nr(e,r,nt)}function xs(e,r){return At(r,16,[e])}function Ls(e){return function(){return e}}function Cs(e,r,c){var d=typeof e;if(e==null||d=="function")return mt(e,r,c);if(d!="object")return ir(e);var m=ht(e),b=m[0],x=e[b];return m.length==1&&x===x&&!ct(x)?function(C){var A=C[b];return x===A&&(x!==0||1/x==1/A)}:function(C){for(var A=m.length,N=!1;A--&&(N=Gt(C[m[A]],e[m[A]],null,!0)););return N}}function As(e){return e==null?"":It(e).replace(di,fi)}function Ke(e){return e}function He(e,r,c){var d=!0,m=r&&te(r);(!r||!c&&!m.length)&&(c==null&&(c=r),b=Mt,r=e,e=E,m=te(r)),c===!1?d=!1:ct(c)&&"chain"in c&&(d=c.chain);var b=e,x=ot(b);pt(m,function(C){var A=e[C]=r[C];x&&(b.prototype[C]=function(){var N=this.__chain__,q=this.__wrapped__,O=[q];Yt.apply(O,arguments);var M=A.apply(e,O);if(d||N){if(q===M&&ct(M))return this;M=new b(M),M.__chain__=N}return M})})}function Ss(){return I._=ei,this}function rr(){}var Ft=Rt(Ft=Q.now)&&Ft||function(){return new Q().getTime()},Ns=Ae(t+"08")==8?Ae:function(e,r){return Ae(ee(e)?e.replace(L,""):e,r||0)};function ir(e){return function(r){return r[e]}}function qs(e,r,c){var d=e==null,m=r==null;if(c==null&&(typeof e=="boolean"&&m?(c=e,e=1):!m&&typeof r=="boolean"&&(c=r,m=!0)),d&&m&&(r=1),e=+e||0,m?(r=e,e=0):r=+r||0,c||e%1||r%1){var b=Fn();return Xt(e+b*(r-e+parseFloat("1e-"+((b+"").length-1))),r)}return Ne(e,r)}function Ds(e,r){if(e){var c=e[r];return ot(c)?e[r]():c}}function Is(e,r,c){var d=E.templateSettings;e=It(e||""),c=Re({},c,d);var m=Re({},c.imports,d.imports),b=ht(m),x=me(m),C,A=0,N=c.interpolate||S,q="__p += '",O=Vt((c.escape||S).source+"|"+N.source+"|"+(N===T?u:S).source+"|"+(c.evaluate||S).source+"|$","g");e.replace(O,function(Et,dt,ut,_e,re,ie){return ut||(ut=_e),q+=e.slice(A,ie).replace(R,ti),dt&&(q+=`' +
__e(`+dt+`) +
'`),re&&(C=!0,q+=`';
`+re+`;
__p += '`),ut&&(q+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),A=ie+Et.length,Et}),q+=`';
`;var M=c.variable,rt=M;rt||(M="obj",q="with ("+M+`) {
`+q+`
}
`),q=(C?q.replace(n,""):q).replace(a,"$1").replace(l,"$1;"),q="function("+M+`) {
`+(rt?"":M+" || ("+M+` = {});
`)+"var __t, __p = '', __e = _.escape"+(C?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var Z=`
/*
//# sourceURL=`+(c.sourceURL||"/lodash/template/source["+j+++"]")+`
*/`;try{var vt=X(b,"return "+q+Z).apply(v,x)}catch(Et){throw Et.source=q,Et}return r?vt(r):(vt.source=q,vt)}function Os(e,r,c){e=(e=+e)>-1?e:0;var d=-1,m=P(e);for(r=mt(r,c,1);++d<e;)m[d]=r(d);return m}function Rs(e){return e==null?"":It(e).replace(pi,hi)}function Ms(e){var r=++p;return It(e??"")+r}function Fs(e){return e=new Mt(e),e.__chain__=!0,e}function Ps(e,r){return r(e),e}function Us(){return this.__chain__=!0,this}function js(){return It(this.__wrapped__)}function sr(){return this.__wrapped__}return E.after=cs,E.assign=ge,E.at=Ui,E.bind=er,E.bindAll=ps,E.bindKey=ds,E.chain=Fs,E.compact=$i,E.compose=gs,E.constant=Ls,E.countBy=ji,E.create=vi,E.createCallback=Cs,E.curry=ms,E.debounce=nr,E.defaults=Re,E.defer=vs,E.delay=ys,E.difference=Zi,E.filter=ve,E.flatten=es,E.forEach=pt,E.forEachRight=ye,E.forIn=Dt,E.forInRight=bi,E.forOwn=tt,E.forOwnRight=Kn,E.functions=te,E.groupBy=Ki,E.indexBy=Hi,E.initial=ns,E.intersection=rs,E.invert=Hn,E.invoke=Gi,E.keys=ht,E.map=ne,E.mapValues=Ii,E.max=Qn,E.memoize=_s,E.merge=Oi,E.min=ki,E.omit=Ri,E.once=bs,E.pairs=Mi,E.partial=Es,E.partialRight=Ts,E.pick=Fi,E.pluck=Pe,E.property=ir,E.pull=os,E.range=us,E.reject=zi,E.remove=ls,E.rest=Be,E.shuffle=Yn,E.sortBy=Yi,E.tap=Ps,E.throttle=ws,E.times=Os,E.toArray=Wi,E.transform=Pi,E.union=as,E.uniq=Zn,E.values=me,E.where=Xi,E.without=fs,E.wrap=xs,E.xor=hs,E.zip=Jn,E.zipObject=tr,E.collect=ne,E.drop=Be,E.each=pt,E.eachRight=ye,E.extend=ge,E.methods=te,E.object=tr,E.select=ve,E.tail=Be,E.unique=Zn,E.unzip=Jn,He(E),E.clone=gi,E.cloneDeep=mi,E.contains=kn,E.escape=As,E.every=zn,E.find=Fe,E.findIndex=Ji,E.findKey=yi,E.findLast=Bi,E.findLastIndex=ts,E.findLastKey=_i,E.has=Ei,E.identity=Ke,E.indexOf=Xn,E.isArguments=de,E.isArray=lt,E.isBoolean=Ti,E.isDate=wi,E.isElement=xi,E.isEmpty=Li,E.isEqual=Ci,E.isFinite=Ai,E.isFunction=ot,E.isNaN=Si,E.isNull=Ni,E.isNumber=Gn,E.isObject=ct,E.isPlainObject=Me,E.isRegExp=qi,E.isString=ee,E.isUndefined=Di,E.lastIndexOf=ss,E.mixin=He,E.noConflict=Ss,E.noop=rr,E.now=Ft,E.parseInt=Ns,E.random=qs,E.reduce=Ue,E.reduceRight=Vn,E.result=Ds,E.runInContext=Le,E.size=Vi,E.some=Wn,E.sortedIndex=$n,E.template=Is,E.unescape=Rs,E.uniqueId=Ms,E.all=zn,E.any=Wn,E.detect=Fe,E.findWhere=Fe,E.foldl=Ue,E.foldr=Vn,E.include=kn,E.inject=Ue,He(function(){var e={};return tt(E,function(r,c){E.prototype[c]||(e[c]=r)}),e}(),!1),E.first=je,E.last=is,E.sample=Qi,E.take=je,E.head=je,tt(E,function(e,r){var c=r!=="sample";E.prototype[r]||(E.prototype[r]=function(d,m){var b=this.__chain__,x=e(this.__wrapped__,d,m);return!b&&(d==null||m&&!(c&&typeof d=="function"))?x:new Mt(x,b)})}),E.VERSION="2.4.2",E.prototype.chain=Us,E.prototype.toString=js,E.prototype.value=sr,E.prototype.valueOf=sr,pt(["join","pop","shift"],function(e){var r=Kt[e];E.prototype[e]=function(){var c=this.__chain__,d=r.apply(this.__wrapped__,arguments);return c?new Mt(d,c):d}}),pt(["push","reverse","sort","unshift"],function(e){var r=Kt[e];E.prototype[e]=function(){return r.apply(this.__wrapped__,arguments),this}}),pt(["concat","slice","splice"],function(e){var r=Kt[e];E.prototype[e]=function(){return new Mt(r.apply(this.__wrapped__,arguments),this.__chain__)}}),E}var Bt=Le();ue&&le?$r?(le.exports=Bt)._=Bt:ue._=Bt:zt._=Bt}).call(Ee)}(oe,oe.exports)),oe.exports}const Qs="quilljs",Vs="0.18.1",Ys="Cross browser rich text editor",Ws="Jason Chen <jhchen7@gmail.com>",Xs="http://quilljs.com",$s=["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],Zs="index.js",Js={eventemitter2:"~0.4.13",lodash:"~2.4.1","rich-text":"~1.0.2"},to={async:"~0.9.0","coffee-script":"~1.8.0",coffeeify:"~0.7.0",glob:"~4.0.4",grunt:"~0.4.3","grunt-browserify":"~2.1.0","grunt-contrib-clean":"~0.6.0","grunt-contrib-coffee":"~0.12.0","grunt-contrib-compress":"~0.12.0","grunt-contrib-concat":"~0.5.0","grunt-contrib-connect":"~0.8.0","grunt-contrib-copy":"~0.7.0","grunt-contrib-stylus":"~0.18.0","grunt-contrib-uglify":"~0.6.0","grunt-karma":"~0.9.0","grunt-lodash":"~0.3.0","grunt-protractor-runner":"~1.1.0","grunt-sauce-connect-launcher":"~0.3.0",harp:"~0.14.0",istanbul:"~0.3.0",jquery:"~2.1.1",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.6.0",protractor:"~1.3.1",stylus:"~0.49.2",watchify:"~0.10.2"},eo={node:">=0.10"},no="BSD-3-Clause",ro={type:"git",url:"https://github.com/quilljs/quill"},io={url:"https://github.com/quilljs/quill/issues"},so={prepublish:"grunt coffee:quill",postpublish:"grunt clean:coffee",test:"grunt test"},oo=["editor","rich text","wysiwyg"],uo={name:Qs,version:Vs,description:Ys,author:Ws,homepage:Xs,contributors:$s,main:Zs,dependencies:Js,devDependencies:to,engines:eo,license:no,repository:ro,bugs:io,scripts:so,keywords:oo};var Ve,ar;function lo(){if(ar)return Ve;ar=1;var w=-1,_=1,v=0;function h(l,u){if(l==u)return l?[[v,l]]:[];var g=o(l,u),y=l.substring(0,g);l=l.substring(g),u=u.substring(g),g=i(l,u);var T=l.substring(l.length-g);l=l.substring(0,l.length-g),u=u.substring(0,u.length-g);var L=f(l,u);return y&&L.unshift([v,y]),T&&L.push([v,T]),n(L),L}function f(l,u){var g;if(!l)return[[_,u]];if(!u)return[[w,l]];var y=l.length>u.length?l:u,T=l.length>u.length?u:l,L=y.indexOf(T);if(L!=-1)return g=[[_,y.substring(0,L)],[v,T],[_,y.substring(L+T.length)]],l.length>u.length&&(g[0][0]=g[2][0]=w),g;if(T.length==1)return[[w,l],[_,u]];var S=t(l,u);if(S){var D=S[0],R=S[1],F=S[2],j=S[3],B=S[4],it=h(D,F),V=h(R,j);return it.concat([[v,B]],V)}return p(l,u)}function p(l,u){for(var g=l.length,y=u.length,T=Math.ceil((g+y)/2),L=T,S=2*T,D=new Array(S),R=new Array(S),F=0;F<S;F++)D[F]=-1,R[F]=-1;D[L+1]=0,R[L+1]=0;for(var j=g-y,B=j%2!=0,it=0,V=0,J=0,_t=0,et=0;et<T;et++){for(var H=-et+it;H<=et-V;H+=2){var z=L+H,k;H==-et||H!=et&&D[z-1]<D[z+1]?k=D[z+1]:k=D[z-1]+1;for(var Y=k-H;k<g&&Y<y&&l.charAt(k)==u.charAt(Y);)k++,Y++;if(D[z]=k,k>g)V+=2;else if(Y>y)it+=2;else if(B){var nt=L+j-H;if(nt>=0&&nt<S&&R[nt]!=-1){var $=g-R[nt];if(k>=$)return s(l,u,k,Y)}}}for(var G=-et+J;G<=et-_t;G+=2){var nt=L+G,$;G==-et||G!=et&&R[nt-1]<R[nt+1]?$=R[nt+1]:$=R[nt-1]+1;for(var wt=$-G;$<g&&wt<y&&l.charAt(g-$-1)==u.charAt(y-wt-1);)$++,wt++;if(R[nt]=$,$>g)_t+=2;else if(wt>y)J+=2;else if(!B){var z=L+j-G;if(z>=0&&z<S&&D[z]!=-1){var k=D[z],Y=L+k-z;if($=g-$,k>=$)return s(l,u,k,Y)}}}}return[[w,l],[_,u]]}function s(l,u,g,y){var T=l.substring(0,g),L=u.substring(0,y),S=l.substring(g),D=u.substring(y),R=h(T,L),F=h(S,D);return R.concat(F)}function o(l,u){if(!l||!u||l.charAt(0)!=u.charAt(0))return 0;for(var g=0,y=Math.min(l.length,u.length),T=y,L=0;g<T;)l.substring(L,T)==u.substring(L,T)?(g=T,L=g):y=T,T=Math.floor((y-g)/2+g);return T}function i(l,u){if(!l||!u||l.charAt(l.length-1)!=u.charAt(u.length-1))return 0;for(var g=0,y=Math.min(l.length,u.length),T=y,L=0;g<T;)l.substring(l.length-T,l.length-L)==u.substring(u.length-T,u.length-L)?(g=T,L=g):y=T,T=Math.floor((y-g)/2+g);return T}function t(l,u){var g=l.length>u.length?l:u,y=l.length>u.length?u:l;if(g.length<4||y.length*2<g.length)return null;function T(V,J,_t){for(var et=V.substring(_t,_t+Math.floor(V.length/4)),H=-1,z="",k,Y,nt,$;(H=J.indexOf(et,H+1))!=-1;){var G=o(V.substring(_t),J.substring(H)),wt=i(V.substring(0,_t),J.substring(0,H));z.length<wt+G&&(z=J.substring(H-wt,H)+J.substring(H,H+G),k=V.substring(0,_t-wt),Y=V.substring(_t+G),nt=J.substring(0,H-wt),$=J.substring(H+G))}return z.length*2>=V.length?[k,Y,nt,$,z]:null}var L=T(g,y,Math.ceil(g.length/4)),S=T(g,y,Math.ceil(g.length/2)),D;if(!L&&!S)return null;S?L?D=L[4].length>S[4].length?L:S:D=S:D=L;var R,F,j,B;l.length>u.length?(R=D[0],F=D[1],j=D[2],B=D[3]):(j=D[0],B=D[1],R=D[2],F=D[3]);var it=D[4];return[R,F,j,B,it]}function n(l){l.push([v,""]);for(var u=0,g=0,y=0,T="",L="",S;u<l.length;)switch(l[u][0]){case _:y++,L+=l[u][1],u++;break;case w:g++,T+=l[u][1],u++;break;case v:g+y>1?(g!==0&&y!==0&&(S=o(L,T),S!==0&&(u-g-y>0&&l[u-g-y-1][0]==v?l[u-g-y-1][1]+=L.substring(0,S):(l.splice(0,0,[v,L.substring(0,S)]),u++),L=L.substring(S),T=T.substring(S)),S=i(L,T),S!==0&&(l[u][1]=L.substring(L.length-S)+l[u][1],L=L.substring(0,L.length-S),T=T.substring(0,T.length-S))),g===0?l.splice(u-y,g+y,[_,L]):y===0?l.splice(u-g,g+y,[w,T]):l.splice(u-g-y,g+y,[w,T],[_,L]),u=u-g-y+(g?1:0)+(y?1:0)+1):u!==0&&l[u-1][0]==v?(l[u-1][1]+=l[u][1],l.splice(u,1)):u++,y=0,g=0,T="",L="";break}l[l.length-1][1]===""&&l.pop();var D=!1;for(u=1;u<l.length-1;)l[u-1][0]==v&&l[u+1][0]==v&&(l[u][1].substring(l[u][1].length-l[u-1][1].length)==l[u-1][1]?(l[u][1]=l[u-1][1]+l[u][1].substring(0,l[u][1].length-l[u-1][1].length),l[u+1][1]=l[u-1][1]+l[u+1][1],l.splice(u-1,1),D=!0):l[u][1].substring(0,l[u+1][1].length)==l[u+1][1]&&(l[u-1][1]+=l[u+1][1],l[u][1]=l[u][1].substring(l[u+1][1].length)+l[u+1][1],l.splice(u+1,1),D=!0)),u++;D&&n(l)}var a=h;return a.INSERT=_,a.DELETE=w,a.EQUAL=v,Ve=a,Ve}var Ye,fr;function kr(){return fr||(fr=1,Ye={equal:function(w,_){if(w===_||w==null&&_==null)return!0;if(w==null||_==null||Object.keys(w).length!=Object.keys(_).length)return!1;for(var v in w)if(w[v]!==_[v])return!1;return!0},array:function(w){return Array.isArray(w)},number:function(w){return typeof w=="number"||typeof w=="object"&&Object.prototype.toString.call(w)==="[object Number]"},object:function(w){return w?typeof w=="function"||typeof w=="object":!1},string:function(w){return typeof w=="string"||typeof w=="object"&&Object.prototype.toString.call(w)==="[object String]"}}),Ye}var We,hr;function ao(){if(hr)return We;hr=1;var w=kr(),_={attributes:{clone:function(h,f){return w.object(h)?Object.keys(h).reduce(function(p,s){return h[s]!==void 0&&(h[s]!==null||f)&&(p[s]=h[s]),p},{}):{}},compose:function(h,f,p){w.object(h)||(h={}),w.object(f)||(f={});var s=this.clone(f,p);for(var o in h)h[o]!==void 0&&f[o]===void 0&&(s[o]=h[o]);return Object.keys(s).length>0?s:void 0},diff:function(h,f){w.object(h)||(h={}),w.object(f)||(f={});var p=Object.keys(h).concat(Object.keys(f)).reduce(function(s,o){return h[o]!==f[o]&&(s[o]=f[o]===void 0?null:f[o]),s},{});return Object.keys(p).length>0?p:void 0},transform:function(h,f,p){if(!w.object(h))return f;if(w.object(f)){if(!p)return f;var s=Object.keys(f).reduce(function(o,i){return h[i]===void 0&&(o[i]=f[i]),o},{});return Object.keys(s).length>0?s:void 0}}},clone:function(h){var f=this.attributes.clone(h);return w.object(f.attributes)&&(f.attributes=this.attributes.clone(f.attributes,!0)),f},iterator:function(h){return new v(h)},length:function(h){return w.number(h.delete)?h.delete:w.number(h.retain)?h.retain:w.string(h.insert)?h.insert.length:1}};function v(h){this.ops=h,this.index=0,this.offset=0}return v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(h){h||(h=1/0);var f=this.ops[this.index];if(f){var p=this.offset,s=_.length(f);if(h>=s-p?(h=s-p,this.index+=1,this.offset=0):this.offset+=h,w.number(f.delete))return{delete:h};var o={};return f.attributes&&(o.attributes=f.attributes),w.number(f.retain)?o.retain=h:w.string(f.insert)?o.insert=f.insert.substr(p,h):o.insert=f.insert,o}else return{retain:1/0}},v.prototype.peekLength=function(){return this.ops[this.index]?_.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?w.number(this.ops[this.index].delete)?"delete":w.number(this.ops[this.index].retain)?"retain":"insert":"retain"},We=_,We}var Xe,cr;function fo(){if(cr)return Xe;cr=1;var w=lo(),_=kr(),v=ao(),h=String.fromCharCode(0),f=function(p){_.array(p)?this.ops=p:_.object(p)&&_.array(p.ops)?this.ops=p.ops:this.ops=[]};return f.prototype.insert=function(p,s){var o={};if(_.string(p)){if(p.length===0)return this;o.insert=p}else _.number(p)&&(o.insert=p);return _.object(s)&&Object.keys(s).length>0&&(o.attributes=s),this.push(o)},f.prototype.delete=function(p){return p<=0?this:this.push({delete:p})},f.prototype.retain=function(p,s){if(p<=0)return this;var o={retain:p};return _.object(s)&&Object.keys(s).length>0&&(o.attributes=s),this.push(o)},f.prototype.push=function(p){var s=this.ops.length,o=this.ops[s-1];if(p=v.clone(p),_.object(o)){if(_.number(p.delete)&&_.number(o.delete))return this.ops[s-1]={delete:o.delete+p.delete},this;if(_.number(o.delete)&&(_.string(p.insert)||_.number(p.insert))&&(s-=1,o=this.ops[s-1],!_.object(o)))return this.ops.unshift(p),this;if(_.equal(p.attributes,o.attributes)){if(_.string(p.insert)&&_.string(o.insert))return this.ops[s-1]={insert:o.insert+p.insert},_.object(p.attributes)&&(this.ops[s-1].attributes=p.attributes),this;if(_.number(p.retain)&&_.number(o.retain))return this.ops[s-1]={retain:o.retain+p.retain},_.object(p.attributes)&&(this.ops[s-1].attributes=p.attributes),this}}return this.ops.splice(s,0,p),this},f.prototype.chop=function(){var p=this.ops[this.ops.length-1];return p&&p.retain&&!p.attributes&&this.ops.pop(),this},f.prototype.length=function(){return this.ops.reduce(function(p,s){return p+v.length(s)},0)},f.prototype.slice=function(p,s){p=p||0,_.number(s)||(s=1/0);for(var o=new f,i=v.iterator(this.ops),t=0;t<s&&i.hasNext();){var n;t<p?n=i.next(p-t):(n=i.next(s-t),o.push(n)),t+=v.length(n)}return o},f.prototype.compose=function(p){var s=v.iterator(this.ops),o=v.iterator(p.ops);for(this.ops=[];s.hasNext()||o.hasNext();)if(o.peekType()==="insert")this.push(o.next());else if(s.peekType()==="delete")this.push(s.next());else{var i=Math.min(s.peekLength(),o.peekLength()),t=s.next(i),n=o.next(i);if(_.number(n.retain)){var a={};_.number(t.retain)?a.retain=i:a.insert=t.insert;var l=v.attributes.compose(t.attributes,n.attributes,_.number(t.retain));l&&(a.attributes=l),this.push(a)}else _.number(n.delete)&&_.number(t.retain)&&this.push(n)}return this.chop()},f.prototype.diff=function(p){var s=[this.ops,p.ops].map(function(a){return a.map(function(l){if(_.string(l.insert))return l.insert;if(_.number(l.insert))return h;var u=a===p.ops?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),o=w(s[0],s[1]),i=v.iterator(this.ops),t=v.iterator(p.ops),n=new f;return o.forEach(function(a){for(var l=a[1].length;l>0;){var u=0;switch(a[0]){case w.INSERT:u=Math.min(t.peekLength(),l),n.push(t.next(u));break;case w.DELETE:u=Math.min(l,i.peekLength()),i.next(u),n.delete(u);break;case w.EQUAL:u=Math.min(i.peekLength(),t.peekLength(),l);var g=i.next(u),y=t.next(u);g.insert===y.insert?n.retain(u,v.attributes.diff(g.attributes,y.attributes)):n.push(y).delete(u);break}l-=u}}),n.chop()},f.prototype.transform=function(p,s){if(s=!!s,_.number(p))return this.transformPosition(p,s);for(var o=v.iterator(this.ops),i=v.iterator(p.ops),t=new f;o.hasNext()||i.hasNext();)if(o.peekType()==="insert"&&(s||i.peekType()!=="insert"))t.retain(v.length(o.next()));else if(i.peekType()==="insert")t.push(i.next());else{var n=Math.min(o.peekLength(),i.peekLength()),a=o.next(n),l=i.next(n);if(a.delete)continue;l.delete?t.push(l):t.retain(n,v.attributes.transform(a.attributes,l.attributes,s))}return t.chop()},f.prototype.transformPosition=function(p,s){s=!!s;for(var o=v.iterator(this.ops),i=0;o.hasNext()&&i<=p;){var t=o.peekLength(),n=o.peekType();if(o.next(),n==="delete"){p-=Math.min(t,p-i);continue}else n==="insert"&&(i<p||!s)&&(p+=t);i+=t}return p},Xe=f,Xe}var $e,pr;function ho(){if(pr)return $e;pr=1;var w=fo();return $e={Delta:w,name:"rich-text",uri:"http://sharejs.org/types/rich-text/v1",create:function(_){return new w(_)},apply:function(_,v){return _=new w(_),v=new w(v),_.compose(v)},compose:function(_,v){return _=new w(_),v=new w(v),_.compose(v)},diff:function(_,v){return _=new w(_),v=new w(v),_.diff(v)},transform:function(_,v,h){return _=new w(_),v=new w(v),v.transform(_,h==="left")}},$e}var Ze,dr;function Sn(){return dr||(dr=1,Ze=ho()),Ze}var Je={};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var gr;function zr(){return gr||(gr=1,function(w){(function(_){var v=Array.isArray?Array.isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},h=10;function f(){this._events={},this._conf&&p.call(this,this._conf)}function p(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function s(t){this._events={},this.newListener=!1,p.call(this,t)}function o(t,n,a,l){if(!a)return[];var u=[],g,y,T,L,S,D,R,F=n.length,j=n[l],B=n[l+1];if(l===F&&a._listeners){if(typeof a._listeners=="function")return t&&t.push(a._listeners),[a];for(g=0,y=a._listeners.length;g<y;g++)t&&t.push(a._listeners[g]);return[a]}if(j==="*"||j==="**"||a[j]){if(j==="*"){for(T in a)T!=="_listeners"&&a.hasOwnProperty(T)&&(u=u.concat(o(t,n,a[T],l+1)));return u}else if(j==="**"){R=l+1===F||l+2===F&&B==="*",R&&a._listeners&&(u=u.concat(o(t,n,a,F)));for(T in a)T!=="_listeners"&&a.hasOwnProperty(T)&&(T==="*"||T==="**"?(a[T]._listeners&&!R&&(u=u.concat(o(t,n,a[T],F))),u=u.concat(o(t,n,a[T],l))):T===B?u=u.concat(o(t,n,a[T],l+2)):u=u.concat(o(t,n,a[T],l)));return u}u=u.concat(o(t,n,a[j],l+1))}if(L=a["*"],L&&o(t,n,L,l+1),S=a["**"],S)if(l<F){S._listeners&&o(t,n,S,F);for(T in S)T!=="_listeners"&&S.hasOwnProperty(T)&&(T===B?o(t,n,S[T],l+2):T===j?o(t,n,S[T],l+1):(D={},D[T]=S[T],o(t,n,{"**":D},l+1)))}else S._listeners?o(t,n,S,F):S["*"]&&S["*"]._listeners&&o(t,n,S["*"],F);return u}function i(t,n){t=typeof t=="string"?t.split(this.delimiter):t.slice();for(var a=0,l=t.length;a+1<l;a++)if(t[a]==="**"&&t[a+1]==="**")return;for(var u=this.listenerTree,g=t.shift();g;){if(u[g]||(u[g]={}),u=u[g],t.length===0){if(!u._listeners)u._listeners=n;else if(typeof u._listeners=="function")u._listeners=[u._listeners,n];else if(v(u._listeners)&&(u._listeners.push(n),!u._listeners.warned)){var y=h;typeof this._events.maxListeners<"u"&&(y=this._events.maxListeners),y>0&&u._listeners.length>y&&(u._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",u._listeners.length),console.trace())}return!0}g=t.shift()}return!0}s.prototype.delimiter=".",s.prototype.setMaxListeners=function(t){this._events||f.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},s.prototype.event="",s.prototype.once=function(t,n){return this.many(t,1,n),this},s.prototype.many=function(t,n,a){var l=this;if(typeof a!="function")throw new Error("many only accepts instances of Function");function u(){--n===0&&l.off(t,u),a.apply(this,arguments)}return u._origin=a,this.on(t,u),l},s.prototype.emit=function(){this._events||f.call(this);var t=arguments[0];if(t==="newListener"&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,a=new Array(n-1),l=1;l<n;l++)a[l-1]=arguments[l];for(l=0,n=this._all.length;l<n;l++)this.event=t,this._all[l].apply(this,a)}if(t==="error"&&!this._all&&!this._events.error&&!(this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var u;if(this.wildcard){u=[];var g=typeof t=="string"?t.split(this.delimiter):t.slice();o.call(this,u,g,this.listenerTree,0)}else u=this._events[t];if(typeof u=="function"){if(this.event=t,arguments.length===1)u.call(this);else if(arguments.length>1)switch(arguments.length){case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(var n=arguments.length,a=new Array(n-1),l=1;l<n;l++)a[l-1]=arguments[l];u.apply(this,a)}return!0}else if(u){for(var n=arguments.length,a=new Array(n-1),l=1;l<n;l++)a[l-1]=arguments[l];for(var y=u.slice(),l=0,n=y.length;l<n;l++)this.event=t,y[l].apply(this,a);return y.length>0||!!this._all}else return!!this._all},s.prototype.on=function(t,n){if(typeof t=="function")return this.onAny(t),this;if(typeof n!="function")throw new Error("on only accepts instances of Function");if(this._events||f.call(this),this.emit("newListener",t,n),this.wildcard)return i.call(this,t,n),this;if(!this._events[t])this._events[t]=n;else if(typeof this._events[t]=="function")this._events[t]=[this._events[t],n];else if(v(this._events[t])&&(this._events[t].push(n),!this._events[t].warned)){var a=h;typeof this._events.maxListeners<"u"&&(a=this._events.maxListeners),a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}return this},s.prototype.onAny=function(t){if(typeof t!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(t,n){if(typeof n!="function")throw new Error("removeListener only takes instances of Function");var a,l=[];if(this.wildcard){var u=typeof t=="string"?t.split(this.delimiter):t.slice();l=o.call(this,null,u,this.listenerTree,0)}else{if(!this._events[t])return this;a=this._events[t],l.push({_listeners:a})}for(var g=0;g<l.length;g++){var y=l[g];if(a=y._listeners,v(a)){for(var T=-1,L=0,S=a.length;L<S;L++)if(a[L]===n||a[L].listener&&a[L].listener===n||a[L]._origin&&a[L]._origin===n){T=L;break}if(T<0)continue;return this.wildcard?y._listeners.splice(T,1):this._events[t].splice(T,1),a.length===0&&(this.wildcard?delete y._listeners:delete this._events[t]),this}else(a===n||a.listener&&a.listener===n||a._origin&&a._origin===n)&&(this.wildcard?delete y._listeners:delete this._events[t])}return this},s.prototype.offAny=function(t){var n=0,a=0,l;if(t&&this._all&&this._all.length>0){for(l=this._all,n=0,a=l.length;n<a;n++)if(t===l[n])return l.splice(n,1),this}else this._all=[];return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(t){if(arguments.length===0)return!this._events||f.call(this),this;if(this.wildcard)for(var n=typeof t=="string"?t.split(this.delimiter):t.slice(),a=o.call(this,null,n,this.listenerTree,0),l=0;l<a.length;l++){var u=a[l];u._listeners=null}else{if(!this._events[t])return this;this._events[t]=null}return this},s.prototype.listeners=function(t){if(this.wildcard){var n=[],a=typeof t=="string"?t.split(this.delimiter):t.slice();return o.call(this,n,a,this.listenerTree,0),n}return this._events||f.call(this),this._events[t]||(this._events[t]=[]),v(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},s.prototype.listenersAny=function(){return this._all?this._all:[]},typeof _=="function"&&_.amd?_(function(){return s}):w.EventEmitter2=s})()}(Je)),Je}var tn,mr;function Tt(){if(mr)return tn;mr=1;var w,_,v,h,f,p=function(i,t){return function(){return i.apply(t,arguments)}},s={}.hasOwnProperty,o=function(i,t){for(var n in t)s.call(t,n)&&(i[n]=t[n]);function a(){this.constructor=i}return a.prototype=t.prototype,i.prototype=new a,i.__super__=t.prototype,i};return f=yt(),h=null,_=function(){function i(t){this.node=t,this.trigger=p(this.trigger,this)}return i.prototype.addClass=function(t){if(!this.hasClass(t))return this.node.classList!=null?this.node.classList.add(t):this.node.className!=null&&(this.node.className=(this.node.className+" "+t).trim()),this},i.prototype.attributes=function(t){var n,a,l,u,g;if(t)return f.each(t,function(y){return function(T,L){return y.node.setAttribute(L,T)}}(this)),this;if(this.node.attributes==null)return{};for(t={},g=this.node.attributes,a=l=0,u=g.length;l<u;a=++l)g[a],n=this.node.attributes[a],t[n.name]=n.value;return t},i.prototype.child=function(t){var n,a;for(n=this.node.firstChild,a=v(n).length();n!=null&&!(t<a);)t-=a,n=n.nextSibling,a=v(n).length();return n==null&&(n=this.node.lastChild,t=v(n).length()),[n,t]},i.prototype.childNodes=function(){return f.map(this.node.childNodes)},i.prototype.classes=function(){return this.node.className.split(/\s+/)},i.prototype.descendants=function(){return f.map(this.node.getElementsByTagName("*"))},i.prototype.get=function(){return this.node},i.prototype.hasClass=function(t){return this.node.classList!=null?this.node.classList.contains(t):this.node.className!=null?f.indexOf(this.classes(),t)>-1:!1},i.prototype.isAncestor=function(t,n){var a;if(n==null&&(n=!1),t===this.node)return n;for(a=this.node;a;){if(a===t)return!0;a=a.parentNode}return!1},i.prototype.isElement=function(){var t;return((t=this.node)!=null?t.nodeType:void 0)===v.ELEMENT_NODE},i.prototype.isTextNode=function(){var t;return((t=this.node)!=null?t.nodeType:void 0)===v.TEXT_NODE},i.prototype.length=function(){var t;return this.node==null?0:(t=this.text().length,this.isElement()&&(t+=this.node.querySelectorAll(f.keys(v.EMBED_TAGS).join(",")).length),t)},i.prototype.merge=function(t){var n;return n=v(t),this.isElement()?(n.moveChildren(this.node),this.normalize()):this.text(this.text()+n.text()),n.remove(),this},i.prototype.moveChildren=function(t){return f.each(this.childNodes(),function(n){return t.appendChild(n)}),this},i.prototype.nextLineNode=function(t){var n;return n=this.node.nextSibling,n==null&&this.node.parentNode!==t&&(n=this.node.parentNode.nextSibling),n!=null&&v.LIST_TAGS[n.tagName]!=null&&(n=n.firstChild),n},i.prototype.normalize=function(){var t,n,a,l;for(n=this.node.firstChild;n!=null;)l=n.nextSibling,t=v(n),l!=null&&v(l).isTextNode()&&(t.text().length===0?t.remove():t.isTextNode()&&(a=l.nextSibling,t.merge(l),l=a)),n=l;return this},i.prototype.on=function(t,n){return this.node.addEventListener(t,function(a){return function(l){var u,g;return u=h&&(t==="keydown"||t==="keyup")?h:l,g=n.call(a.node,u),g||(l.preventDefault(),l.stopPropagation()),g}}(this)),this},i.prototype.remove=function(){var t;return(t=this.node.parentNode)!=null&&t.removeChild(this.node),this.node=null,null},i.prototype.removeClass=function(t){var n;if(this.hasClass(t))return this.node.classList!=null?this.node.classList.remove(t):(this.node.className!=null&&(n=this.classes(),n.splice(f.indexOf(n,t),1),this.node.className=n.join(" ")),this)},i.prototype.replace=function(t){return this.node.parentNode.replaceChild(t,this.node),this.node=t,t},i.prototype.splitAncestors=function(t,n){var a,l,u,g;if(n==null&&(n=!1),this.node===t||this.node.parentNode===t)return this;if(this.node.previousSibling!=null||n){for(u=this.node.parentNode,l=u.cloneNode(!1),u.parentNode.insertBefore(l,u.nextSibling),g=this.node;g!=null;)a=g.nextSibling,l.appendChild(g),g=a;return v(l).splitAncestors(t)}else return v(this.node.parentNode).splitAncestors(t)},i.prototype.split=function(t,n){var a,l,u,g,y,T,L,S,D;if(n==null&&(n=!1),T=this.length(),t=Math.max(0,t),t=Math.min(t,T),!(n||t!==0))return[this.node.previousSibling,this.node,!1];if(!(n||t!==T))return[this.node,this.node.nextSibling,!1];if(this.node.nodeType===v.TEXT_NODE)return a=this.node.splitText(t),[this.node,a,!0];for(g=this.node,L=this.node.cloneNode(!1),this.node.parentNode.insertBefore(L,g.nextSibling),S=this.child(t),l=S[0],t=S[1],D=v(l).split(t),D[0],u=D[1];u!==null;)y=u.nextSibling,L.appendChild(u),u=y;return[g,L,!0]},i.prototype.styles=function(t,n){var a,l;return n==null&&(n=!1),t?(n||(t=f.defaults(t,this.styles())),l=f.map(t,function(u,g){return""+g+": "+u}).join("; ")+";",this.node.setAttribute("style",l),this):(l=this.node.getAttribute("style")||"",a=f.reduce(l.split(";"),function(u,g){var y,T,L;return L=g.split(":"),y=L[0],T=L[1],y&&T&&(y=y.trim(),T=T.trim(),u[y.toLowerCase()]=T),u},{}),a)},i.prototype.switchTag=function(t){var n,a;return t=t.toUpperCase(),this.node.tagName===t?this:(a=this.node.ownerDocument.createElement(t),n=this.attributes(),v.VOID_TAGS[t]==null&&this.moveChildren(a),this.replace(a),this.attributes(n).get())},i.prototype.text=function(t){if(t!=null){switch(this.node.nodeType){case v.ELEMENT_NODE:this.node.textContent=t;break;case v.TEXT_NODE:this.node.data=t}return this}else switch(this.node.nodeType){case v.ELEMENT_NODE:return this.node.tagName===v.DEFAULT_BREAK_TAG?"":v.EMBED_TAGS[this.node.tagName]!=null?v.EMBED_TEXT:this.node.textContent!=null?this.node.textContent:"";case v.TEXT_NODE:return this.node.data||"";default:return""}},i.prototype.textNodes=function(){var t,n,a;for(a=this.node.ownerDocument.createTreeWalker(this.node,NodeFilter.SHOW_TEXT,null,!1),n=[];t=a.nextNode();)n.push(t);return n},i.prototype.toggleClass=function(t,n){return n==null&&(n=!this.hasClass(t)),n?this.addClass(t):this.removeClass(t),this},i.prototype.trigger=function(t,n){var a,l,u;return n==null&&(n={}),f.indexOf(["keypress","keydown","keyup"],t)<0?(a=this.node.ownerDocument.createEvent("Event"),a.initEvent(t,n.bubbles,n.cancelable)):(a=this.node.ownerDocument.createEvent("KeyboardEvent"),h=f.clone(n),f.isNumber(n.key)?h.which=n.key:f.isString(n.key)?h.which=n.key.toUpperCase().charCodeAt(0):h.which=0,v.isIE(10)?(u=[],n.altKey&&u.push("Alt"),n.ctrlKey&&u.push("Control"),n.metaKey&&u.push("Meta"),n.shiftKey&&u.push("Shift"),a.initKeyboardEvent(t,n.bubbles,n.cancelable,this.window(),0,0,u.join(" "),null,null)):(l=f.isFunction(a.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",a[l](t,n.bubbles,n.cancelable,this.window(),n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,0))),this.node.dispatchEvent(a),h=null,this},i.prototype.unwrap=function(){var t,n;return n=this.node.firstChild,t=this.node.nextSibling,f.each(this.childNodes(),function(a){return function(l){return a.node.parentNode.insertBefore(l,t)}}(this)),this.remove(),n},i.prototype.window=function(){return this.node.ownerDocument.defaultView||this.node.ownerDocument.parentWindow},i.prototype.wrap=function(t){var n;for(this.node.parentNode!=null&&this.node.parentNode.insertBefore(t,this.node),n=t;n.firstChild!=null;)n=t.firstChild;return n.appendChild(this.node),this},i}(),w=function(i){o(t,i);function t(){return t.__super__.constructor.apply(this,arguments)}return t.prototype.default=function(){return this.node.querySelector("option[selected]")},t.prototype.option=function(n,a){var l,u,g,y,T,L;if(a==null&&(a=!0),g=f.isElement(n)?n.value:n,g){for(g=g.replace(/[^\w]+/g,""),L=this.node.children,u=y=0,T=L.length;y<T;u=++y)if(l=L[u],l.value.replace(/[^\w]+/g,"")===g){this.node.selectedIndex=u;break}}else this.node.selectedIndex=-1;return a&&this.trigger("change"),this},t.prototype.reset=function(n){var a;return n==null&&(n=!0),a=this.default(),a!=null?a.selected=!0:this.node.selectedIndex=0,n&&this.trigger("change"),this},t.prototype.value=function(){return this.node.selectedIndex>-1?this.node.options[this.node.selectedIndex].value:""},t}(_),v=function(i){return(i!=null?i.tagName:void 0)==="SELECT"?new w(i):new _(i)},v=f.extend(v,{ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF",DEFAULT_BLOCK_TAG:"DIV",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LINE_TAGS:{DIV:"DIV",LI:"LI"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},convertFontSize:function(i){var t,n,a,l;f.isString(i)&&i.indexOf("px")>-1?(a=f.keys(v.FONT_SIZES),l=f.values(v.FONT_SIZES)):(l=f.keys(v.FONT_SIZES),a=f.values(v.FONT_SIZES));for(t in a)if(n=a[t],parseInt(i)<=parseInt(n))return l[t];return f.last(l)},isIE:function(i){var t;return t=document.documentMode,t&&i>=t},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},isMac:function(){return/Mac/i.test(navigator.platform)}}),tn=v,tn}var en,vr;function Te(){if(vr)return en;vr=1;var w,_,v;return v=yt(),_=Tt(),w=function(){h.types={LINE:"line"},h.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color",default:"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor",default:"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily",default:"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize",default:"13px",prepare:function(f,p){return f.execCommand("fontSize",!1,_.convertFontSize(p))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:h.types.LINE,style:"textAlign",default:"left"},bullet:{type:h.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:h.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}};function h(f,p){this.document=f,this.config=p}return h.prototype.add=function(f,p){var s,o,i,t,n;return p?(this.value(f)===p||(v.isString(this.config.parentTag)&&(i=this.document.createElement(this.config.parentTag),_(f).wrap(i),f.parentNode.tagName===((t=f.parentNode.previousSibling)!=null?t.tagName:void 0)&&_(f.parentNode.previousSibling).merge(f.parentNode),f.parentNode.tagName===((n=f.parentNode.nextSibling)!=null?n.tagName:void 0)&&_(f.parentNode).merge(f.parentNode.nextSibling)),v.isString(this.config.tag)&&(s=this.document.createElement(this.config.tag),_.VOID_TAGS[s.tagName]!=null?(f.parentNode!=null&&_(f).replace(s),f=s):this.isType(h.types.LINE)?f=_(f).switchTag(this.config.tag):(_(f).wrap(s),f=s)),(v.isString(this.config.style)||v.isString(this.config.attribute)||v.isString(this.config.class))&&(v.isString(this.config.class)&&(f=this.remove(f)),_(f).isTextNode()&&(o=this.document.createElement(_.DEFAULT_INLINE_TAG),_(f).wrap(o),f=o),v.isString(this.config.style)&&p!==this.config.default&&(f.style[this.config.style]=p),v.isString(this.config.attribute)&&f.setAttribute(this.config.attribute,p),v.isString(this.config.class)&&_(f).addClass(this.config.class+p))),f):this.remove(f)},h.prototype.isType=function(f){return f===this.config.type},h.prototype.match=function(f){var p,s,o,i,t;if(!_(f).isElement()||v.isString(this.config.parentTag)&&((i=f.parentNode)!=null?i.tagName:void 0)!==this.config.parentTag||v.isString(this.config.tag)&&f.tagName!==this.config.tag||v.isString(this.config.style)&&(!f.style[this.config.style]||f.style[this.config.style]===this.config.default)||v.isString(this.config.attribute)&&!f.hasAttribute(this.config.attribute))return!1;if(v.isString(this.config.class)){for(t=_(f).classes(),s=0,o=t.length;s<o;s++)if(p=t[s],p.indexOf(this.config.class)===0)return!0;return!1}return!0},h.prototype.prepare=function(f){if(v.isString(this.config.prepare))return this.document.execCommand(this.config.prepare,!1,f);if(v.isFunction(this.config.prepare))return this.config.prepare(this.document,f)},h.prototype.remove=function(f){var p,s,o,i;if(!this.match(f))return f;if(v.isString(this.config.style)&&(f.style[this.config.style]="",f.getAttribute("style")||f.removeAttribute("style")),v.isString(this.config.attribute)&&f.removeAttribute(this.config.attribute),v.isString(this.config.class)){for(i=_(f).classes(),s=0,o=i.length;s<o;s++)p=i[s],p.indexOf(this.config.class)===0&&_(f).removeClass(p);f.getAttribute("class")||f.removeAttribute("class")}return v.isString(this.config.tag)&&(this.isType(h.types.LINE)?(v.isString(this.config.parentTag)&&(f.previousSibling!=null&&_(f).splitAncestors(f.parentNode.parentNode),f.nextSibling!=null&&_(f.nextSibling).splitAncestors(f.parentNode.parentNode)),f=_(f).switchTag(_.DEFAULT_BLOCK_TAG)):(f=_(f).switchTag(_.DEFAULT_INLINE_TAG),_.EMBED_TAGS[this.config.tag]!=null&&_(f).text(_.EMBED_TEXT))),v.isString(this.config.parentTag)&&_(f.parentNode).unwrap(),f.tagName===_.DEFAULT_INLINE_TAG&&!f.hasAttributes()&&(f=_(f).unwrap()),f},h.prototype.value=function(f){var p,s,o,i;if(this.match(f)){if(v.isString(this.config.attribute))return f.getAttribute(this.config.attribute)||void 0;if(v.isString(this.config.style))return f.style[this.config.style]||void 0;if(v.isString(this.config.class)){for(i=_(f).classes(),s=0,o=i.length;s<o;s++)if(p=i[s],p.indexOf(this.config.class)===0)return p.slice(this.config.class.length)}else if(v.isString(this.config.tag))return!0}},h}(),en=w,en}var nn,yr;function Nn(){if(yr)return nn;yr=1;var w,_;return _=function(){function v(h){this.data=h,this.prev=this.next=null}return v}(),w=function(){v.Node=_;function v(){this.length=0,this.first=this.last=null}return v.prototype.append=function(h){return this.first!=null?(h.next=null,this.last.next=h):this.first=h,h.prev=this.last,this.last=h,this.length+=1},v.prototype.insertAfter=function(h,f){return f.prev=h,h!=null?(f.next=h.next,h.next!=null&&(h.next.prev=f),h.next=f,h===this.last&&(this.last=f)):(f.next=this.first,this.first.prev=f,this.first=f),this.length+=1},v.prototype.remove=function(h){return this.length>1?(h.prev!=null&&(h.prev.next=h.next),h.next!=null&&(h.next.prev=h.prev),h===this.first&&(this.first=h.next),h===this.last&&(this.last=h.prev)):this.first=this.last=null,h.prev=h.next=null,this.length-=1},v.prototype.toArray=function(){var h,f;for(h=[],f=this.first;f!=null;)h.push(f),f=f.next;return h},v}(),nn=w,nn}var rn,_r;function Qr(){if(_r)return rn;_r=1;var w,_,v,h,f={}.hasOwnProperty,p=function(s,o){for(var i in o)f.call(o,i)&&(s[i]=o[i]);function t(){this.constructor=s}return t.prototype=o.prototype,s.prototype=new t,s.__super__=o.prototype,s};return h=yt(),v=Tt(),Te(),_=Nn(),w=function(s){p(o,s),o.ID_PREFIX="leaf-",o.isLeafNode=function(i){return v(i).isTextNode()||i.firstChild==null};function o(i,t){this.node=i,this.formats=h.clone(t),this.id=h.uniqueId(o.ID_PREFIX),this.text=v(this.node).text(),this.length=this.text.length}return o.prototype.deleteText=function(i,t){var n;if(t>0)return this.text=this.text.slice(0,i)+this.text.slice(i+t),this.length=this.text.length,v.EMBED_TAGS[this.node.tagName]!=null?(n=this.node.ownerDocument.createTextNode(this.text),this.node=v(this.node).replace(n)):v(this.node).text(this.text)},o.prototype.insertText=function(i,t){var n;return this.text=this.text.slice(0,i)+t+this.text.slice(i),v(this.node).isTextNode()?v(this.node).text(this.text):(n=this.node.ownerDocument.createTextNode(t),this.node.tagName===v.DEFAULT_BREAK_TAG?this.node=v(this.node).replace(n):(this.node.appendChild(n),this.node=n)),this.length=this.text.length},o}(_.Node),rn=w,rn}var sn,br;function kt(){if(br)return sn;br=1;var w,_,v;return v=yt(),_=Tt(),w={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{DIV:"DIV",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG",OL:"OL",UL:"UL",LI:"LI"},handleBreaks:function(h){var f;return f=v.map(h.querySelectorAll(_.DEFAULT_BREAK_TAG)),v.each(f,function(p){return function(s){if(s.nextSibling!=null&&(!_.isIE(10)||s.previousSibling!=null))return _(s.nextSibling).splitAncestors(h.parentNode)}}()),h},normalizeLine:function(h){return h=w.wrapInline(h),h=w.handleBreaks(h),h=w.pullBlocks(h),h=w.normalizeNode(h),w.unwrapText(h),h!=null&&_.LIST_TAGS[h.tagName]!=null&&(h=h.firstChild),h},normalizeNode:function(h){return _(h).isTextNode()?h:(v.each(w.ATTRIBUTES,function(f,p){var s;if(h.hasAttribute(p))return s=h.getAttribute(p),p==="size"&&(s=_.convertFontSize(s)),h.style[f]=s,h.removeAttribute(p)}),w.whitelistStyles(h),w.whitelistTags(h))},optimizeLine:function(h){var f,p,s,o;for(f=_(h).length(),s=_(h).descendants(),o=[];s.length>0;)p=s.pop(),(p!=null?p.parentNode:void 0)!=null&&_.EMBED_TAGS[p.tagName]==null&&(p.tagName===_.DEFAULT_BREAK_TAG?f!==0?o.push(_(p).remove()):o.push(void 0):_(p).length()===0?(s.push(p.nextSibling),o.push(_(p).unwrap())):p.previousSibling!=null&&p.tagName===p.previousSibling.tagName&&v.isEqual(_(p).attributes(),_(p.previousSibling).attributes())?(s.push(p.firstChild),o.push(_(p.previousSibling).merge(p))):o.push(void 0));return o},pullBlocks:function(h){var f;for(f=h.firstChild;f!=null;){if(_.BLOCK_TAGS[f.tagName]!=null&&f.tagName!=="LI"){f.previousSibling!=null&&_(f).splitAncestors(h.parentNode),f.nextSibling!=null&&_(f.nextSibling).splitAncestors(h.parentNode),_.LIST_TAGS[f.tagName]==null||!f.firstChild?(_(f).unwrap(),w.pullBlocks(h)):(_(f.parentNode).unwrap(),h.parentNode==null&&(h=f));break}f=f.nextSibling}return h},stripComments:function(h){return h.replace(/<!--[\s\S]*?-->/g,"")},stripWhitespace:function(h){return h=h.replace(/^\s+/,"").replace(/\s+$/,""),h=h.replace(/^\s+/,"").replace(/\s+$/,""),h=h.replace(/(\r?\n|\r)+/g," "),h=h.replace(/\>\s+\</g,"><"),h},whitelistStyles:function(h){var f,p;if(f=_(h).styles(),p=v.omit(f,function(s,o){return w.STYLES[o]==null}),v.keys(p).length<v.keys(f).length)return v.keys(p).length>0?_(h).styles(p,!0):h.removeAttribute("style")},whitelistTags:function(h){return _(h).isElement()&&(w.ALIASES[h.tagName]!=null?h=_(h).switchTag(w.ALIASES[h.tagName]):w.TAGS[h.tagName]==null&&(_.BLOCK_TAGS[h.tagName]!=null?h=_(h).switchTag(_.DEFAULT_BLOCK_TAG):!h.hasAttributes()&&h.firstChild!=null?h=_(h).unwrap():h=_(h).switchTag(_.DEFAULT_INLINE_TAG))),h},wrapInline:function(h){var f,p;if(_.BLOCK_TAGS[h.tagName]!=null)return h;for(f=h.ownerDocument.createElement(_.DEFAULT_BLOCK_TAG),h.parentNode.insertBefore(f,h);h!=null&&_.BLOCK_TAGS[h.tagName]==null;)p=h.nextSibling,f.appendChild(h),h=p;return f},unwrapText:function(h){var f;return f=v.map(h.querySelectorAll(_.DEFAULT_INLINE_TAG)),v.each(f,function(p){if(!p.hasAttributes())return _(p).unwrap()})}},sn=w,sn}var on,Er;function qn(){if(Er)return on;Er=1;var w,_,v,h,f,p,s,o,i={}.hasOwnProperty,t=function(n,a){for(var l in a)i.call(a,l)&&(n[l]=a[l]);function u(){this.constructor=n}return u.prototype=a.prototype,n.prototype=new u,n.__super__=a.prototype,n};return o=yt(),w=Sn().Delta,s=Tt(),_=Te(),v=Qr(),h=qn(),f=Nn(),p=kt(),h=function(n){t(a,n),a.CLASS_NAME="line",a.ID_PREFIX="line-";function a(l,u){this.doc=l,this.node=u,this.id=o.uniqueId(a.ID_PREFIX),this.formats={},s(this.node).addClass(a.CLASS_NAME),this.rebuild(),a.__super__.constructor.call(this,this.node)}return a.prototype.buildLeaves=function(l,u){return o.each(s(l).childNodes(),function(g){return function(y){var T;return y=p.normalizeNode(y),T=o.clone(u),o.each(g.doc.formats,function(L,S){if(!L.isType(_.types.LINE)&&L.match(y))return T[S]=L.value(y)}),v.isLeafNode(y)?g.leaves.append(new v(y,T)):g.buildLeaves(y,T)}}(this))},a.prototype.deleteText=function(l,u){var g,y,T;if(u>0){for(T=this.findLeafAt(l),y=T[0],l=T[1];y!=null&&u>0;)g=Math.min(u,y.length-l),y.deleteText(l,g),u-=g,y=y.next,l=0;return this.rebuild()}},a.prototype.findLeaf=function(l){var u;for(u=this.leaves.first;u!=null;){if(u.node===l)return u;u=u.next}return null},a.prototype.findLeafAt=function(l,u){var g;if(u==null&&(u=!1),l>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(g=this.leaves.first;g!=null;){if(l<g.length||l===g.length&&u)return[g,l];l-=g.length,g=g.next}return[this.leaves.last,l-this.leaves.last.length]},a.prototype.format=function(l,u){var g;return o.isObject(l)?g=l:(g={},g[l]=u),o.each(g,function(y){return function(T,L){var S,D;return D=y.doc.formats[L],D.isType(_.types.LINE)&&(D.config.exclude&&y.formats[D.config.exclude]&&(S=y.doc.formats[D.config.exclude],S!=null&&(y.node=S.remove(y.node),delete y.formats[D.config.exclude])),y.node=D.add(y.node,T)),T?y.formats[L]=T:delete y.formats[L]}}(this)),this.resetContent()},a.prototype.formatText=function(l,u,g,y){var T,L,S,D,R,F,j,B;if(F=this.findLeafAt(l),L=F[0],S=F[1],T=this.doc.formats[g],T!=null&&T.config.type!==_.types.LINE){for(;L!=null&&u>0;){if(D=L.next,y&&L.formats[g]!==y||!y&&L.formats[g]!=null){if(R=L.node,L.formats[g]!=null)for(s(R).splitAncestors(this.node);!T.match(R);)R=R.parentNode;S>0&&(j=s(R).split(S),j[0],R=j[1]),L.length>S+u&&(B=s(R).split(u),R=B[0],B[1]),T.add(R,y)}u-=L.length-S,S=0,L=D}return this.rebuild()}},a.prototype.insertText=function(l,u,g){var y,T,L,S,D,R;if(g==null&&(g={}),u.length>0)return D=this.findLeafAt(l),y=D[0],T=D[1],o.isEqual(y.formats,g)?(y.insertText(T,u),this.resetContent()):(S=o.reduce(g,function(F){return function(j,B,it){return F.doc.formats[it].add(j,B)}}(this),this.node.ownerDocument.createTextNode(u)),R=s(y.node).split(T),R[0],L=R[1],L&&(L=s(L).splitAncestors(this.node).get()),this.node.insertBefore(S,L),this.rebuild())},a.prototype.optimize=function(){return p.optimizeLine(this.node),this.rebuild()},a.prototype.rebuild=function(l){return l==null&&(l=!1),!l&&this.outerHTML!=null&&this.outerHTML===this.node.outerHTML&&o.all(this.leaves.toArray(),function(u){return function(g){return s(g.node).isAncestor(u.node)}}(this))?!1:(this.node=p.normalizeNode(this.node),s(this.node).length()===0&&!this.node.querySelector(s.DEFAULT_BREAK_TAG)&&this.node.appendChild(this.node.ownerDocument.createElement(s.DEFAULT_BREAK_TAG)),this.leaves=new f,this.formats=o.reduce(this.doc.formats,function(u){return function(g,y,T){return y.isType(_.types.LINE)&&(y.match(u.node)?g[T]=y.value(u.node):delete g[T]),g}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},a.prototype.resetContent=function(){return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,this.delta=new w,this.leaves.toArray().forEach(function(l){return function(u){return l.length+=u.length,s.EMBED_TAGS[u.node.tagName]!=null?l.delta.insert(1,u.formats):l.delta.insert(u.text,u.formats)}}(this)),this.delta.insert(`
`,this.formats)},a}(f.Node),on=h,on}var un,Tr;function Vr(){if(Tr)return un;Tr=1;var w,_,v,h,f,p,s,o;return o=yt(),w=Sn().Delta,s=Tt(),v=Te(),h=qn(),f=Nn(),p=kt(),_=function(){function i(t,n){this.root=t,n==null&&(n={}),this.formats={},o.each(n.formats,o.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return i.prototype.addFormat=function(t,n){return o.isObject(n)||(n=v.FORMATS[t]),this.formats[t]!=null&&console.warn("Overwriting format",t,this.formats[t]),this.formats[t]=new v(this.root.ownerDocument,n)},i.prototype.appendLine=function(t){return this.insertLineBefore(t,null)},i.prototype.findLeafAt=function(t,n){var a,l,u;return u=this.findLineAt(t),a=u[0],l=u[1],a!=null?a.findLeafAt(l,n):[null,l]},i.prototype.findLine=function(t){for(var n;t!=null&&s.BLOCK_TAGS[t.tagName]==null;)t=t.parentNode;return n=t!=null?this.lineMap[t.id]:null,(n!=null?n.node:void 0)===t?n:null},i.prototype.findLineAt=function(t){var n,a;if(!(this.lines.length>0))return[null,t];if(a=this.toDelta().length(),t===a)return[this.lines.last,this.lines.last.length];if(t>a)return[null,t-a];for(n=this.lines.first;n!=null;){if(t<n.length)return[n,t];t-=n.length,n=n.next}return[null,t]},i.prototype.insertLineBefore=function(t,n){var a;return a=new h(this,t),n!=null?(s(t.parentNode).isElement()||this.root.insertBefore(t,n.node),this.lines.insertAfter(n.prev,a)):(s(t.parentNode).isElement()||this.root.appendChild(t),this.lines.append(a)),this.lineMap[a.id]=a,a},i.prototype.mergeLines=function(t,n){return n.length>1&&(t.length===1&&s(t.leaves.last.node).remove(),o.each(s(n.node).childNodes(),function(a){if(a.tagName!==s.DEFAULT_BREAK_TAG)return t.node.appendChild(a)})),this.removeLine(n),t.rebuild()},i.prototype.optimizeLines=function(){return o.each(this.lines.toArray(),function(t,n){return t.optimize(),!0})},i.prototype.rebuild=function(){var t,n,a;for(n=this.lines.toArray(),t=this.root.firstChild,t!=null&&s.LIST_TAGS[t.tagName]!=null&&(t=t.firstChild),o.each(n,function(l){return function(u,g){for(var y;u.node!==t;)if(u.node.parentNode===l.root||((y=u.node.parentNode)!=null?y.parentNode:void 0)===l.root)t=p.normalizeLine(t),l.insertLineBefore(t,u),t=s(t).nextLineNode(l.root);else return l.removeLine(u);return u.outerHTML!==t.outerHTML&&(u.node=p.normalizeLine(u.node),u.rebuild()),t=s(t).nextLineNode(l.root)}}(this)),a=[];t!=null;)t=p.normalizeLine(t),this.appendLine(t),a.push(t=s(t).nextLineNode(this.root));return a},i.prototype.removeLine=function(t){return t.node.parentNode!=null&&(s.LIST_TAGS[t.node.parentNode.tagName]&&t.node.parentNode.childNodes.length===1?s(t.node.parentNode).remove():s(t.node).remove()),delete this.lineMap[t.id],this.lines.remove(t)},i.prototype.setHTML=function(t){return t=p.stripComments(t),t=p.stripWhitespace(t),this.root.innerHTML=t,this.lines=new f,this.lineMap={},this.rebuild()},i.prototype.splitLine=function(t,n){var a,l,u,g;return n=Math.min(n,t.length-1),g=s(t.node).split(n,!0),a=g[0],l=g[1],t.node=a,t.rebuild(),u=this.insertLineBefore(l,t.next),u.formats=o.clone(t.formats),u.resetContent(),u},i.prototype.toDelta=function(){var t,n;return n=this.lines.toArray(),t=new w,n.forEach(function(a){return a.delta.ops.forEach(function(l){return t.push(l)})}),t},i}(),un=_,un}var ln,wr;function co(){if(wr)return ln;wr=1;var w,_,v,h,f,p;return p=yt(),h=Tt(),kt(),w={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container div":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},_=["decimal","lower-alpha","lower-roman"],f=".editor-container ol > li",p.each([1,2,3,4,5,6,7,8,9],function(s){return f+=" > ol",w[f]={"list-style-type":_[s%3]},f+=" > li"}),h.isIE(10)&&(w[h.DEFAULT_BREAK_TAG]={display:"none"}),v=function(){s.objToCss=function(o){return p.map(o,function(i,t){var n;return n=p.map(i,function(a,l){return""+l+": "+a+";"}).join(" "),""+t+" { "+n+" }"}).join(`
`)},s.buildFrame=function(o){var i,t,n;return i=o.ownerDocument.createElement("iframe"),h(i).attributes({frameBorder:"0",height:"100%",width:"100%",title:"Quill Rich Text Editor",role:"presentation"}),o.appendChild(i),t=i.contentWindow.document,t.open(),t.write("<!DOCTYPE html>"),t.close(),n=t.createElement("div"),t.body.appendChild(n),[n,i]};function s(o,i){var t;this.container=o,this.options=i??{},this.container.innerHTML="",t=s.buildFrame(this.container),this.root=t[0],this.iframe=t[1],this.root.setAttribute("id",this.options.id),this.iframe.setAttribute("name",this.options.id),h(this.root).addClass("editor-container"),h(this.container).addClass("ql-container"),h.isIOS()&&h(this.container).styles({overflow:"auto","-webkit-overflow-scrolling":"touch"}),this.addStyles(w),this.options.styles!=null&&p.defer(p.bind(this.addStyles,this,this.options.styles))}return s.prototype.addContainer=function(o,i){var t,n;return i==null&&(i=!1),n=i?this.root:null,t=this.root.ownerDocument.createElement("div"),h(t).addClass(o),this.root.parentNode.insertBefore(t,n),t},s.prototype.addStyles=function(o){var i,t;if(typeof o=="object")return t=this.root.ownerDocument.createElement("style"),t.type="text/css",o=s.objToCss(o),t.appendChild(this.root.ownerDocument.createTextNode(o)),this.root.ownerDocument.head.appendChild(t);if(typeof o=="string")return i=this.root.ownerDocument.createElement("link"),h(i).attributes({type:"text/css",rel:"stylesheet",href:o}),this.root.ownerDocument.head.appendChild(i)},s}(),ln=v,ln}var an,xr;function Yr(){if(xr)return an;xr=1;var w,_;return _=yt(),w=function(){v.compare=function(h,f){return h===f?!0:h!=null&&f!=null?h.equals(f):!1};function v(h,f){this.start=h,this.end=f}return v.prototype.equals=function(h){return h==null?!1:this.start===h.start&&this.end===h.end},v.prototype.shift=function(h,f){var p;return p=_.map([this.start,this.end],function(s){return h>s?s:f>=0?s+f:Math.max(h,s+f)}),this.start=p[0],this.end=p[1],p},v.prototype.isCollapsed=function(){return this.start===this.end},v}(),an=w,an}var fn,Lr;function po(){if(Lr)return fn;Lr=1;var w,_,v,h,f;return f=yt(),h=Tt(),Qr(),w=kt(),_=Yr(),v=function(){function p(s,o,i){this.doc=s,this.iframe=o,this.emitter=i,this.document=this.doc.root.ownerDocument,this.focus=!1,this.range=new _(0,0),this.nullDelay=!1,this.update("silent")}return p.prototype.checkFocus=function(){return this.document.activeElement===this.doc.root&&document.activeElement===this.iframe},p.prototype.getRange=function(s){var o,i,t;return s==null&&(s=!1),this.checkFocus()?(i=this._getNativeRange(),i==null?null:(t=this._positionToIndex(i.startContainer,i.startOffset),i.startContainer===i.endContainer&&i.startOffset===i.endOffset?o=t:o=this._positionToIndex(i.endContainer,i.endOffset),new _(Math.min(t,o),Math.max(t,o)))):s?this.range:null},p.prototype.preserve=function(s){var o,i,t,n,a,l,u,g,y;return t=this._getNativeRange(),t!=null&&this.checkFocus()?(l=this._encodePosition(t.startContainer,t.startOffset),n=l[0],a=l[1],u=this._encodePosition(t.endContainer,t.endOffset),o=u[0],i=u[1],s(),g=this._decodePosition(n,a),n=g[0],a=g[1],y=this._decodePosition(o,i),o=y[0],i=y[1],this._setNativeRange(n,a,o,i)):s()},p.prototype.setRange=function(s,o){var i,t,n,a,l,u,g;return s!=null?(l=this._indexToPosition(s.start),n=l[0],a=l[1],s.isCollapsed()?(u=[n,a],i=u[0],t=u[1]):(g=this._indexToPosition(s.end),i=g[0],t=g[1]),this._setNativeRange(n,a,i,t)):this._setNativeRange(null),this.update(o)},p.prototype.shiftAfter=function(s,o,i){var t;if(t=this.getRange(),i(),t!=null)return t.shift(s,o),this.setRange(t,"silent")},p.prototype.update=function(s){var o,i,t,n;if(i=this.checkFocus(),t=this.getRange(!0),o=s!=="silent"&&(!_.compare(t,this.range)||i!==this.focus),n=i?t:null,n===null&&s==="user"&&!this.nullDelay)return this.nullDelay=!0;if(this.nullDelay=!1,this.range=t,this.focus=i,o)return this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,n,s)},p.prototype._decodePosition=function(s,o){var i;return h(s).isElement()&&(i=f.indexOf(h(s.parentNode).childNodes(),s),o+=i,s=s.parentNode),[s,o]},p.prototype._encodePosition=function(s,o){for(var i;;){if(h(s).isTextNode()||s.tagName===h.DEFAULT_BREAK_TAG||h.EMBED_TAGS[s.tagName]!=null)return[s,o];if(o<s.childNodes.length)s=s.childNodes[o],o=0;else{if(s.childNodes.length===0)return w.TAGS[s.tagName]==null&&(i=s.ownerDocument.createTextNode(""),s.appendChild(i),s=i),[s,0];if(s=s.lastChild,h(s).isElement()){if(s.tagName===h.DEFAULT_BREAK_TAG||h.EMBED_TAGS[s.tagName]!=null)return[s,1];o=s.childNodes.length}else return[s,h(s).length()]}}},p.prototype._getNativeRange=function(){var s,o;return o=this.document.getSelection(),(o!=null?o.rangeCount:void 0)>0&&(s=o.getRangeAt(0),h(s.startContainer).isAncestor(this.doc.root,!0)&&(s.startContainer===s.endContainer||h(s.endContainer).isAncestor(this.doc.root,!0)))?s:null},p.prototype._indexToPosition=function(s){var o,i,t;return this.doc.lines.length===0?[this.doc.root,0]:(t=this.doc.findLeafAt(s,!0),o=t[0],i=t[1],this._decodePosition(o.node,i))},p.prototype._positionToIndex=function(s,o){var i,t,n,a,l,u;if(u=this._encodePosition(s,o),t=u[0],o=u[1],a=this.doc.findLine(t),a==null)return 0;for(i=a.findLeaf(t),l=0;a.prev!=null;)a=a.prev,l+=a.length;if(i==null)return l;for(n=0;i.prev!=null;)i=i.prev,n+=i.length;return l+n+o},p.prototype._setNativeRange=function(s,o,i,t){var n,a;if(a=this.document.getSelection(),!!a)if(s!=null){if(this.checkFocus()||this.doc.root.focus(),n=this._getNativeRange(),(n==null||s!==n.startContainer||o!==n.startOffset||i!==n.endContainer||t!==n.endOffset)&&(a.removeAllRanges(),n=this.document.createRange(),n.setStart(s,o),n.setEnd(i,t),a.addRange(n),!this.checkFocus()))return this.doc.root.focus()}else return a.removeAllRanges(),this.doc.root.blur()},p}(),fn=v,fn}var hn,Cr;function go(){if(Cr)return hn;Cr=1;var w,_,v,h,f,p;return p=yt(),f=Tt(),w=Vr(),qn(),v=co(),h=po(),_=function(){s.sources={API:"api",SILENT:"silent",USER:"user"};function s(o,i,t){this.iframeContainer=o,this.quill=i,this.options=t??{},this.renderer=new v(this.iframeContainer,this.options),f(this.iframeContainer).on("focus",this.focus.bind(this)),this.root=this.renderer.root,this.doc=new w(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new h(this.doc,this.renderer.iframe,this.quill),this.timer=setInterval(p.bind(this.checkUpdate,this),this.options.pollInterval),this.options.readOnly||this.enable()}return s.prototype.disable=function(){return this.enable(!1)},s.prototype.enable=function(o){return o==null&&(o=!0),this.root.setAttribute("contenteditable",o)},s.prototype.applyDelta=function(o,i){var t;if(t=this._update(),t&&(o=t.transform(o,!0),t=o.transform(t,!1)),o.ops.length>0&&(o=this._trackDelta(function(n){return function(){var a;return a=0,p.each(o.ops,function(l){if(p.isString(l.insert))return n._insertAt(a,l.insert,l.attributes),a+=l.insert.length;if(p.isNumber(l.insert))return n._insertAt(a,f.EMBED_TEXT,l.attributes),a+=1;if(p.isNumber(l.delete))return n._deleteAt(a,l.delete);if(p.isNumber(l.retain))return p.each(l.attributes,function(u,g){return n._formatAt(a,l.retain,g,u)}),a+=l.retain}),n.selection.shiftAfter(0,0,p.bind(n.doc.optimizeLines,n.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,o&&i!==s.sources.SILENT&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,o,i)),t&&t.ops.length>0&&i!==s.sources.SILENT)return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,t,s.sources.USER)},s.prototype.checkUpdate=function(o){var i;return o==null&&(o="user"),this.renderer.iframe.parentNode==null||this.root.parentNode==null?clearInterval(this.timer):(i=this._update(),i&&(this.delta.compose(i),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,i,o)),i&&(o=s.sources.SILENT),this.selection.update(o))},s.prototype.focus=function(){return f.isIE(11)&&this.selection.setRange(this.selection.range),f.isIOS()&&this.renderer.iframe.focus(),this.root.focus()},s.prototype.getDelta=function(){return this.delta},s.prototype._deleteAt=function(o,i){if(!(i<=0))return this.selection.shiftAfter(o,-1*i,function(t){return function(){var n,a,l,u,g,y,T;for(T=t.doc.findLineAt(o),l=T[0],y=T[1],n=l,u=l.length-y<=i&&y>0;n!=null&&i>0;)g=n.next,a=Math.min(n.length-y,i),y===0&&i>=n.length?t.doc.removeLine(n):n.deleteText(y,a),i-=a,n=g,y=0;if(u&&l.next)return t.doc.mergeLines(l,l.next)}}(this))},s.prototype._formatAt=function(o,i,t,n){return this.selection.shiftAfter(o,0,function(a){return function(){var l,u,g,y,T;for(y=a.doc.findLineAt(o),u=y[0],g=y[1],T=[];u!=null&&i>0;)l=Math.min(i,u.length-g-1),u.formatText(g,l,t,n),i-=l,i>0&&u.format(t,n),i-=1,g=0,T.push(u=u.next);return T}}(this))},s.prototype._insertAt=function(o,i,t){return t==null&&(t={}),this.selection.shiftAfter(o,i.length,function(n){return function(){var a,l,u,g;return i=i.replace(/\r\n/g,`
`).replace(/\r/g,`
`),l=i.split(`
`),g=n.doc.findLineAt(o),a=g[0],u=g[1],p.each(l,function(y,T){var L;return a==null||a.length<=u?(T<l.length-1||y.length>0)&&(a=n.doc.appendLine(n.root.ownerDocument.createElement(f.DEFAULT_BLOCK_TAG)),u=0,a.insertText(u,y,t),a.format(t),L=null):(a.insertText(u,y,t),T<l.length-1&&(L=n.doc.splitLine(a,u+y.length),p.each(p.defaults({},t,a.formats),function(S,D){return a.format(D,t[D])}),u=0)),a=L})}}(this))},s.prototype._trackDelta=function(o){var i,t;return o(),t=this.doc.toDelta(),i=this.delta.diff(t),i},s.prototype._update=function(){var o;return this.innerHTML===this.root.innerHTML?!1:(o=this._trackDelta(function(i){return function(){return i.selection.preserve(p.bind(i.doc.rebuild,i.doc)),i.selection.shiftAfter(0,0,p.bind(i.doc.optimizeLines,i.doc))}}(this)),this.innerHTML=this.root.innerHTML,o.ops.length>0?o:!1)},s}(),hn=_,hn}var cn,Ar;function Wr(){if(Ar)return cn;Ar=1;var w;return w=function(){_.OPTIONS={};function _(v){this.quill=v,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return _}(),cn=w,cn}var pn,Sr;function Xr(){if(Sr)return pn;Sr=1;var w,_,v,h;return h=yt(),v=Tt(),w=kt(),_=function(){f.TEMPLATE='<span class="ql-picker-label"></span><span class="ql-picker-options"></span>';function f(p){this.select=p,this.container=this.select.ownerDocument.createElement("span"),this.buildPicker(),v(this.container).addClass("ql-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),v(this.select.ownerDocument).on("click",function(s){return function(){return s.close(),!0}}(this)),v(this.label).on("click",function(s){return function(){return h.defer(function(){return v(s.container).toggleClass("ql-expanded")}),!1}}(this)),v(this.select).on("change",function(s){return function(){var o,i;return s.select.selectedIndex>-1&&(o=s.container.querySelectorAll(".ql-picker-item")[s.select.selectedIndex],i=s.select.options[s.select.selectedIndex]),s.selectItem(o,!1),v(s.label).toggleClass("ql-active",i!==v(s.select).default())}}(this))}return f.prototype.buildItem=function(p,s,o){var i;return i=this.select.ownerDocument.createElement("span"),i.setAttribute("data-value",s.getAttribute("value")),v(i).addClass("ql-picker-item").text(v(s).text()).on("click",function(t){return function(){return t.selectItem(i,!0),t.close()}}(this)),this.select.selectedIndex===o&&this.selectItem(i,!1),i},f.prototype.buildPicker=function(){var p;return h.each(v(this.select).attributes(),function(s){return function(o,i){return s.container.setAttribute(i,o)}}(this)),this.container.innerHTML=w.stripWhitespace(f.TEMPLATE),this.label=this.container.querySelector(".ql-picker-label"),p=this.container.querySelector(".ql-picker-options"),h.each(this.select.options,function(s){return function(o,i){var t;return t=s.buildItem(p,o,i),p.appendChild(t)}}(this))},f.prototype.close=function(){return v(this.container).removeClass("ql-expanded")},f.prototype.selectItem=function(p,s){var o,i;return o=this.container.querySelector(".ql-selected"),o!=null&&v(o).removeClass("ql-selected"),p!=null?(i=p.getAttribute("data-value"),v(p).addClass("ql-selected"),v(this.label).text(v(p).text()),v(this.select).option(i,s),this.label.setAttribute("data-value",i)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},f}(),pn=_,pn}var dn,Nr;function mo(){if(Nr)return dn;Nr=1;var w,_,v,h={}.hasOwnProperty,f=function(p,s){for(var o in s)h.call(s,o)&&(p[o]=s[o]);function i(){this.constructor=p}return i.prototype=s.prototype,p.prototype=new i,p.__super__=s.prototype,p};return v=Tt(),_=Xr(),w=function(p){f(s,p);function s(){s.__super__.constructor.apply(this,arguments),v(this.container).addClass("ql-color-picker")}return s.prototype.buildItem=function(o,i,t){var n;return n=s.__super__.buildItem.call(this,o,i,t),n.style.backgroundColor=i.value,n},s}(_),dn=w,dn}var gn,qr;function vo(){if(qr)return gn;qr=1;var w,_,v,h,f,p,s={}.hasOwnProperty,o=function(i,t){for(var n in t)s.call(t,n)&&(i[n]=t[n]);function a(){this.constructor=i}return a.prototype=t.prototype,i.prototype=new a,i.__super__=t.prototype,i};return p=yt(),w=mo(),_=Wr(),f=Tt(),v=Xr(),h=function(i){o(t,i),t.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],t.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},t.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}};function t(n){this.quill=n,t.__super__.constructor.apply(this,arguments),this.quill.addStyles(t.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(l){if(l!=null)return p.invoke(a.pickers,"close")}}(this)),f(this.quill.root.ownerDocument.body).addClass("snow"),this.quill.onModuleLoad("multi-cursor",p.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",p.bind(this.extendToolbar,this))}return t.prototype.extendMultiCursor=function(n){return n.on(n.constructor.events.CURSOR_ADDED,function(a){var l,u;return l=a.elem.querySelector(".cursor-triangle.bottom"),u=a.elem.querySelector(".cursor-triangle.top"),l.style.borderTopColor=u.style.borderBottomColor=a.color})},t.prototype.extendToolbar=function(n){return p.each(["color","background","font","size","align"],function(a){return function(l){var u,g;if(g=n.container.querySelector(".ql-"+l),g!=null){switch(l){case"font":case"size":case"align":u=new v(g);break;case"color":case"background":u=new w(g),p.each(u.container.querySelectorAll(".ql-picker-item"),function(y,T){if(T<7)return f(y).addClass("ql-primary-color")})}if(u!=null)return a.pickers.push(u)}}}(this)),p.each(f(n.container).textNodes(),function(a){if(f(a).text().trim().length===0)return f(a).remove()})},t}(_),gn=h,gn}var mn,Dr;function St(){if(Dr)return mn;Dr=1;var w,_,v,h,f,p,s,o,i,t={}.hasOwnProperty,n=function(l,u){for(var g in u)t.call(u,g)&&(l[g]=u[g]);function y(){this.constructor=l}return y.prototype=u.prototype,l.prototype=new y,l.__super__=u.prototype,l},a=[].slice;return i=yt(),o=uo,w=Sn().Delta,v=zr().EventEmitter2,s=Tt(),_=go(),h=Te(),p=Yr(),f=function(l){n(u,l),u.version=o.version,u.editors=[],u.modules=[],u.themes=[],u.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},u.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources=_.sources,u.registerModule=function(g,y){return u.modules[g]!=null&&console.warn("Overwriting "+g+" module"),u.modules[g]=y},u.registerTheme=function(g,y){return u.themes[g]!=null&&console.warn("Overwriting "+g+" theme"),u.themes[g]=y},u.require=function(g){switch(g){case"lodash":return i;case"delta":return w;case"dom":return s;default:return null}};function u(g,y){var T,L,S;if(y==null&&(y={}),i.isString(g)&&(g=document.querySelector(g)),g==null)throw new Error("Invalid Quill container");if(L=i.defaults(y.modules||{},u.DEFAULTS.modules),T=g.innerHTML,this.options=i.defaults(y,u.DEFAULTS),this.options.modules=L,this.options.id=this.id="quill-"+(u.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new _(g,this,this.options),this.root=this.editor.doc.root,u.editors.push(this),this.setHTML(T,u.sources.SILENT),S=u.themes[this.options.theme],S==null)throw new Error("Cannot load "+this.options.theme+" theme. Are you sure you registered it?");this.theme=new S(this,this.options),i.each(this.options.modules,function(D){return function(R,F){return D.addModule(F,R)}}(this))}return u.prototype.addContainer=function(g,y){return y==null&&(y=!1),this.editor.renderer.addContainer(g,y)},u.prototype.addFormat=function(g,y){return this.editor.doc.addFormat(g,y)},u.prototype.addModule=function(g,y){var T;if(T=u.modules[g],T==null)throw new Error("Cannot load "+g+" module. Are you sure you registered it?");return i.isObject(y)||(y={}),y=i.defaults(y,this.theme.constructor.OPTIONS[g]||{},T.DEFAULTS||{}),this.modules[g]=new T(this,y),this.emit(u.events.MODULE_INIT,g,this.modules[g]),this.modules[g]},u.prototype.addStyles=function(g){return this.editor.renderer.addStyles(g)},u.prototype.deleteText=function(g,y,T){var L,S;if(T==null&&(T=u.sources.API),S=this._buildParams(g,y,{},T),g=S[0],y=S[1],S[2],T=S[3],y>g)return L=new w().retain(g).delete(y-g),this.editor.applyDelta(L,T)},u.prototype.emit=function(){var g,y;return y=arguments[0],g=2<=arguments.length?a.call(arguments,1):[],u.__super__.emit.apply(this,[u.events.PRE_EVENT,y].concat(a.call(g))),u.__super__.emit.apply(this,[y].concat(a.call(g))),u.__super__.emit.apply(this,[u.events.POST_EVENT,y].concat(a.call(g)))},u.prototype.focus=function(){return this.editor.focus()},u.prototype.formatLine=function(g,y,T,L,S){var D,R,F,j,B;return j=this._buildParams(g,y,T,L,S),g=j[0],y=j[1],D=j[2],S=j[3],B=this.editor.doc.findLineAt(y),R=B[0],F=B[1],R!=null&&(y+=R.length-F),this.formatText(g,y,D,S)},u.prototype.formatText=function(g,y,T,L,S){var D,R,F;return F=this._buildParams(g,y,T,L,S),g=F[0],y=F[1],R=F[2],S=F[3],R=i.reduce(R,function(j){return function(B,it,V){var J;return J=j.editor.doc.formats[V],it&&it!==J.config.default||(B[V]=null),B}}(this),R),D=new w().retain(g).retain(y-g,R),this.editor.applyDelta(D,S)},u.prototype.getContents=function(g,y){return g==null&&(g=0),y==null&&(y=null),i.isObject(g)&&(y=g.end,g=g.start),this.editor.getDelta().slice(g,y)},u.prototype.getHTML=function(){return this.root.innerHTML},u.prototype.getLength=function(){return this.editor.getDelta().length()},u.prototype.getModule=function(g){return this.modules[g]},u.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},u.prototype.getText=function(g,y){return g==null&&(g=0),y==null&&(y=null),i.map(this.getContents(g,y).ops,function(T){return i.isString(T.insert)?T.insert:""}).join("")},u.prototype.insertEmbed=function(g,y,T,L){return this.insertText(g,s.EMBED_TEXT,y,T,L)},u.prototype.insertText=function(g,y,T,L,S){var D,R,F;if(F=this._buildParams(g,0,T,L,S),g=F[0],F[1],R=F[2],S=F[3],y.length>0)return D=new w().retain(g).insert(y,R),this.editor.applyDelta(D,S)},u.prototype.onModuleLoad=function(g,y){return this.modules[g]?y(this.modules[g]):this.on(u.events.MODULE_INIT,function(T,L){if(T===g)return y(L)})},u.prototype.prepareFormat=function(g,y){var T,L;if(T=this.editor.doc.formats[g],T!=null&&(L=this.getSelection(),!!(L!=null&&L.isCollapsed())))return T.isType(h.types.LINE)?this.formatLine(L,g,y,u.sources.USER):T.prepare(y)},u.prototype.setContents=function(g,y){return y==null&&(y=u.sources.API),i.isArray(g)&&(g={ops:g}),g.ops.unshift({delete:this.getLength()}),this.updateContents(g,y)},u.prototype.setHTML=function(g,y){return y==null&&(y=u.sources.API),g||(g="<"+s.DEFAULT_BLOCK_TAG+"><"+s.DEFAULT_BREAK_TAG+"></"+s.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(g),this.editor.checkUpdate(y)},u.prototype.setSelection=function(g,y,T){var L;return T==null&&(T=u.sources.API),i.isNumber(g)&&i.isNumber(y)?L=new p(g,y):(L=g,T=y||T),this.editor.selection.setRange(L,T)},u.prototype.updateContents=function(g,y){return y==null&&(y=u.sources.API),this.editor.applyDelta(g,y)},u.prototype._buildParams=function(){var g,y;return y=1<=arguments.length?a.call(arguments,0):[],i.isObject(y[0])&&y.splice(0,1,y[0].start,y[0].end),i.isString(y[2])&&(g={},g[y[2]]=y[3],y.splice(2,2,g)),y[3]==null&&(y[3]=u.sources.API),y},u}(v),f.registerTheme("default",Wr()),f.registerTheme("snow",vo()),mn=f,mn}var vn,Ir;function yo(){if(Ir)return vn;Ir=1;var w,_,v,h,f;return v=St(),f=v.require("lodash"),h=v.require("dom"),_=v.require("delta"),w=function(){p.DEFAULTS={authorId:null,color:"transparent",enabled:!1};function p(s,o){this.quill=s,this.options=o,this.options.button!=null&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{class:"author-"}),this.options.authorId!=null&&(this.quill.on(this.quill.constructor.events.PRE_EVENT,function(i){return function(t,n,a){var l,u;if(t===i.quill.constructor.events.TEXT_CHANGE&&a==="user")return l=new _,u={author:i.options.authorId},f.each(n.ops,function(g){if(g.delete==null)return g.insert!=null||g.retain!=null&&g.attributes!=null?(g.attributes||(g.attributes={}),g.attributes.author=i.options.authorId,l.retain(g.retain||g.insert.length||1,u)):l.retain(g.retain)}),i.quill.updateContents(l,v.sources.SILENT)}}(this)),this.addAuthor(this.options.authorId,this.options.color))}return p.prototype.addAuthor=function(s,o){var i;return i={},i[".authorship .author-"+s]={"background-color":""+o},this.quill.addStyles(i)},p.prototype.attachButton=function(s){var o;return o=h(s),o.on("click",function(i){return function(){return o.toggleClass("ql-on"),i.enable($dom.hasClass("ql-on"))}}(this))},p.prototype.enable=function(s){return s==null&&(s=!0),h(this.quill.root).toggleClass("authorship",s)},p.prototype.disable=function(){return this.enable(!1)},p}(),v.registerModule("authorship",w),vn=w,vn}var yn,Or;function Dn(){if(Or)return yn;Or=1;var w,_,v,h,f;return _=St(),w=kt(),f=_.require("lodash"),h=_.require("dom"),v=function(){p.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},p.HIDE_MARGIN="-10000px";function p(s,o){this.quill=s,this.options=o,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=w.stripWhitespace(this.options.template),this.container.style.position="absolute",h(this.quill.root).on("focus",f.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(i){return function(t,n){if(n==="user"&&i.container.style.left!==p.HIDE_MARGIN)return i.range=null,i.hide()}}(this))}return p.prototype.initTextbox=function(s,o,i){return h(s).on("keyup",function(t){return function(n){switch(n.which){case h.KEYS.ENTER:return o.call(t);case h.KEYS.ESCAPE:return i.call(t);default:return!0}}}(this))},p.prototype.hide=function(){return this.container.style.left=p.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},p.prototype.show=function(s){var o,i,t,n,a;return this.range=this.quill.getSelection(),n=this._position(s),o=n[0],i=n[1],a=this._limit(o,i),o=a[0],i=a[1],t=h(this.quill.root).window(),o+=t.pageXOffset,i+=t.pageYOffset,this.container.style.left=""+o+"px",this.container.style.top=""+i+"px",this.container.focus()},p.prototype._getBounds=function(){var s,o,i,t;return s=this.quill.root.getBoundingClientRect(),t=h(this.quill.root).window(),o=t.pageXOffset,i=t.pageYOffset,{left:s.left+o,right:s.right+o,top:s.top+i,bottom:s.bottom+i,width:s.width,height:s.height}},p.prototype._limit=function(s,o){var i,t;return i=this._getBounds(),t=this.container.getBoundingClientRect(),s=Math.min(i.right-t.width,s),s=Math.max(i.left,s),o=Math.min(i.bottom-t.height,o),o=Math.max(i.top,o),[s,o]},p.prototype._position=function(s){var o,i,t,n,a;return n=this.container.getBoundingClientRect(),o=this._getBounds(),s!=null?(t=s.getBoundingClientRect(),i=t.left+t.width/2-n.width/2,a=t.top+t.height+this.options.offset,a+n.height>o.bottom&&(a=t.top-n.height-this.options.offset)):(i=o.left+o.width/2-n.width/2,a=o.top+o.height/2-n.height/2),[i,a]},p}(),_.registerModule("tooltip",v),yn=v,yn}var _n,Rr;function _o(){if(Rr)return _n;Rr=1;var w,_,v,h,f,p={}.hasOwnProperty,s=function(o,i){for(var t in i)p.call(i,t)&&(o[t]=i[t]);function n(){this.constructor=o}return n.prototype=i.prototype,o.prototype=new n,o.__super__=i.prototype,o};return _=St(),v=Dn(),f=_.require("lodash"),h=_.require("dom"),_.require("delta"),w=function(o){s(i,o),i.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block",float:"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'};function i(t,n){this.quill=t,this.options=n,this.options.styles=f.defaults(this.options.styles,v.DEFAULTS.styles),this.options=f.defaults(this.options,v.DEFAULTS),i.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),h(this.container).addClass("image-tooltip-container"),this.initListeners()}return i.prototype.initListeners=function(){return h(this.container.querySelector(".insert")).on("click",f.bind(this.insertImage,this)),h(this.container.querySelector(".cancel")).on("click",f.bind(this.hide,this)),h(this.textbox).on("input",f.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(t){return function(n){return n.initFormat("image",f.bind(t._onToolbar,t))}}(this))},i.prototype.insertImage=function(){var t,n;return n=this._normalizeURL(this.textbox.value),this.range==null&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",t=this.range.end,this.quill.insertEmbed(t,"image",n,"user"),this.quill.setSelection(t+1,t+1)),this.hide()},i.prototype._onToolbar=function(t,n){return n?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),f.defer(function(a){return function(){return a.textbox.setSelectionRange(a.textbox.value.length,a.textbox.value.length)}}(this))):this.quill.deleteText(t,"user")},i.prototype._preview=function(){var t;if(this._matchImageURL(this.textbox.value))return this.preview.firstChild.tagName==="IMG"?this.preview.firstChild.setAttribute("src",this.textbox.value):(t=this.preview.ownerDocument.createElement("img"),t.setAttribute("src",this.textbox.value),this.preview.replaceChild(t,this.preview.firstChild))},i.prototype._matchImageURL=function(t){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(t)},i.prototype._normalizeURL=function(t){return/^https?:\/\//.test(t)||(t="http://"+t),t},i}(v),_.registerModule("image-tooltip",w),_n=w,_n}var bn,Mr;function bo(){if(Mr)return bn;Mr=1;var w,_,v,h,f;return v=St(),f=v.require("lodash"),h=v.require("dom"),w=v.require("delta"),_=function(){p.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:h.KEYS.TAB},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:h.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}};function p(s,o){this.quill=s,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return p.prototype.addHotkey=function(s,o){return f.isArray(s)||(s=[s]),f.each(s,function(i){return function(t){var n,a;return t=f.isObject(t)?f.clone(t):{key:t},t.callback=o,n=f.isNumber(t.key)?t.key:t.key.toUpperCase().charCodeAt(0),(a=i.hotkeys)[n]==null&&(a[n]=[]),i.hotkeys[n].push(t)}}(this))},p.prototype.toggleFormat=function(s,o){var i,t,n;if(s.isCollapsed()?i=this.quill.getContents(Math.max(0,s.start-1),s.end):i=this.quill.getContents(s),n=i.ops.length===0||!f.all(i.ops,function(a){var l;return(l=a.attributes)!=null?l[o]:void 0}),s.isCollapsed()?this.quill.prepareFormat(o,n):this.quill.formatText(s,o,n,"user"),t=this.quill.getModule("toolbar"),t!=null)return t.setActive(o,n)},p.prototype._initDeletes=function(){return this.addHotkey([h.KEYS.DELETE,h.KEYS.BACKSPACE],function(s){return function(){return s.quill.getLength()>1}}(this))},p.prototype._initHotkeys=function(){return this.addHotkey(p.hotkeys.INDENT,function(s){return function(o){return s._onTab(o,!1),!1}}(this)),this.addHotkey(p.hotkeys.OUTDENT,function(s){return function(o){return!1}}()),f.each(["bold","italic","underline"],function(s){return function(o){return s.addHotkey(p.hotkeys[o.toUpperCase()],function(i){return s.toggleFormat(i,o),!1})}}(this))},p.prototype._initListeners=function(){return h(this.quill.root).on("keydown",function(s){return function(o){var i;return i=!1,f.each(s.hotkeys[o.which],function(t){var n;if(n=h.isMac()?o.metaKey:o.metaKey||o.ctrlKey,!!t.metaKey==!!n&&!!t.shiftKey==!!o.shiftKey&&!!t.altKey==!!o.altKey)return i=t.callback(s.quill.getSelection())===!1||i,!0}),!i}}(this))},p.prototype._onTab=function(s,o){var i;return i=new w().retain(s.start).insert("	").delete(s.end-s.start).retain(this.quill.getLength()-s.end),this.quill.updateContents(i),this.quill.setSelection(s.start+1,s.start+1)},p}(),v.registerModule("keyboard",_),bn=_,bn}var En,Fr;function Eo(){if(Fr)return En;Fr=1;var w,_,v,h,f,p={}.hasOwnProperty,s=function(o,i){for(var t in i)p.call(i,t)&&(o[t]=i[t]);function n(){this.constructor=o}return n.prototype=i.prototype,o.prototype=new n,o.__super__=i.prototype,o};return _=St(),v=Dn(),f=_.require("lodash"),h=_.require("dom"),w=function(o){s(i,o),i.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'};function i(t,n){this.quill=t,this.options=n,this.options.styles=f.defaults(this.options.styles,v.DEFAULTS.styles),this.options=f.defaults(this.options,v.DEFAULTS),i.__super__.constructor.call(this,this.quill,this.options),h(this.container).addClass("link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return i.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(t){return function(n){var a;if(n!=null&&n.isCollapsed())return a=t._findAnchor(n),a?(t.setMode(a.href,!1),t.show(a)):(t.range=null,t.hide())}}(this)),h(this.container.querySelector(".done")).on("click",f.bind(this.saveLink,this)),h(this.container.querySelector(".change")).on("click",function(t){return function(){return t.setMode(t.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(t){return function(n){return n.initFormat("link",f.bind(t._onToolbar,t))}}(this))},i.prototype.saveLink=function(){var t,n;return n=this._normalizeURL(this.textbox.value),this.range!=null&&(this.range.isCollapsed()?(t=this._findAnchor(this.range),t!=null&&(t.href=n)):this.quill.formatText(this.range,"link",n,"user")),this.setMode(n,!1)},i.prototype.setMode=function(t,n){var a;return n==null&&(n=!1),n?(this.textbox.value=t,f.defer(function(l){return function(){return l.textbox.focus(),l.textbox.setSelectionRange(t.length,t.length)}}(this))):(this.link.href=t,a=t.length>this.options.maxLength?t.slice(0,this.options.maxLength)+"...":t,h(this.link).text(a)),h(this.container).toggleClass("editing",n)},i.prototype._findAnchor=function(t){var n,a,l;for(l=this.quill.editor.doc.findLeafAt(t.start,!0),n=l[0],l[1],n!=null&&(a=n.node);a!=null;){if(a.tagName==="A")return a;a=a.parentNode}return null},i.prototype._onToolbar=function(t,n){var a;if(t&&!t.isCollapsed())return n?(this.setMode(this._suggestURL(t),!0),a=this.quill.editor.selection._getNativeRange(),this.show(a)):this.quill.formatText(t,"link",!1,"user")},i.prototype._normalizeURL=function(t){return/^(https?:\/\/|mailto:)/.test(t)||(t="http://"+t),t},i.prototype._suggestURL=function(t){var n;return n=this.quill.getText(t),this._normalizeURL(n)},i}(v),_.registerModule("link-tooltip",w),En=w,En}var Tn,Pr;function To(){if(Pr)return Tn;Pr=1;var w,_,v,h,f,p={}.hasOwnProperty,s=function(o,i){for(var t in i)p.call(i,t)&&(o[t]=i[t]);function n(){this.constructor=o}return n.prototype=i.prototype,o.prototype=new n,o.__super__=i.prototype,o};return v=St(),w=zr().EventEmitter2,f=v.require("lodash"),h=v.require("dom"),_=function(o){s(i,o),i.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},i.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"};function i(t,n){this.quill=t,this.options=n,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,f.bind(this._applyDelta,this))}return i.prototype.clearCursors=function(){return f.each(f.keys(this.cursors),f.bind(this.removeCursor,this)),this.cursors={}},i.prototype.moveCursor=function(t,n){var a;return a=this.cursors[t],a.index=n,h(a.elem).removeClass("hidden"),clearTimeout(a.timer),a.timer=setTimeout(function(l){return function(){return h(a.elem).addClass("hidden"),a.timer=null}}(),this.options.timeout),this._updateCursor(a),a},i.prototype.removeCursor=function(t){var n;return n=this.cursors[t],this.emit(i.events.CURSOR_REMOVED,n),n!=null&&n.elem.parentNode.removeChild(n.elem),delete this.cursors[t]},i.prototype.setCursor=function(t,n,a,l){var u;return this.cursors[t]==null&&(this.cursors[t]=u={userId:t,index:n,color:l,elem:this._buildCursor(a,l)},this.emit(i.events.CURSOR_ADDED,u)),f.defer(function(g){return function(){return g.moveCursor(t,n)}}(this)),this.cursors[t]},i.prototype.shiftCursors=function(t,n,a){return a==null&&(a=null),f.each(this.cursors,function(l){return function(u,g){if(u&&(u.index>t||u.userId===a))return u.index+=Math.max(n,t-u.index)}}())},i.prototype.update=function(){return f.each(this.cursors,function(t){return function(n,a){if(n!=null)return t._updateCursor(n),!0}}(this))},i.prototype._applyDelta=function(t){var n;return n=0,f.each(t.ops,function(a){return function(l){var u,g;return u=0,l.insert!=null?(u=l.insert.length||1,a.shiftCursors(n,u,(g=l.attributes)!=null?g.author:void 0)):l.delete!=null?a.shiftCursors(n,-1*l.delete,null):l.retain!=null&&(a.shiftCursors(n,0,null),u=l.retain),n+=u}}(this)),this.update()},i.prototype._buildCursor=function(t,n){var a,l,u;return a=this.container.ownerDocument.createElement("span"),h(a).addClass("cursor"),a.innerHTML=this.options.template,a.querySelector(".cursor-flag"),u=a.querySelector(".cursor-name"),h(u).text(t),l=a.querySelector(".cursor-caret"),l.style.backgroundColor=u.style.backgroundColor=n,this.container.appendChild(a),a},i.prototype._moveCursor=function(t,n,a){var l,u,g;return a==null&&(a="left"),g=h(n).window(),l=n.getBoundingClientRect(),t.elem.style.top=l.top+g.pageYOffset+"px",t.elem.style.left=l[a]+"px",t.elem.style.height=l.height+"px",u=t.elem.querySelector(".cursor-flag"),h(t.elem).toggleClass("top",parseInt(t.elem.style.top)<=u.offsetHeight).toggleClass("left",parseInt(t.elem.style.left)<=u.offsetWidth).toggleClass("right",this.quill.root.offsetWidth-parseInt(t.elem.style.left)<=u.offsetWidth),this.emit(i.events.CURSOR_MOVED,t)},i.prototype._updateCursor=function(t){var n,a,l,u,g,y,T;return this.quill.editor.checkUpdate(),y=this.quill.editor.doc.findLeafAt(t.index,!0),l=y[0],u=y[1],a=this.container.ownerDocument.createElement("span"),l!=null?(T=h(l.node).split(u),T[0],g=T[1],n=T[2],h(a).text(h.ZERO_WIDTH_NOBREAK_SPACE),l.node.parentNode.insertBefore(a,g)):(h(a).text(h.NOBREAK_SPACE),this.quill.root.appendChild(a)),this._moveCursor(t,a),h(a).remove(),n&&h(l.node.parentNode).normalize(),this.quill.editor.selection.update(v.sources.SILENT)},i}(w),v.registerModule("multi-cursor",_),Tn=_,Tn}var wn,Ur;function wo(){if(Ur)return wn;Ur=1;var w,_,v,h,f,p;return h=St(),_=Vr(),p=h.require("lodash"),f=h.require("dom"),w=h.require("delta"),v=function(){function s(o,i){this.quill=o,this.options=i,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),f(this.quill.root).on("paste",p.bind(this._paste,this))}return s.prototype._paste=function(){var o,i,t,n,a;if(this.quill.getLength(),t=this.quill.getSelection(),t!=null)return this.container.innerHTML="",o=f(this.quill.root).window(),i=o.scrollY,n=window.scrollX,a=window.scrollY,this.container.focus(),p.defer(function(l){return function(){var u,g,y,T,L,S;return g=new _(l.container,l.quill.options),u=g.toDelta(),y=u.length()-1,u.compose(new w().retain(y).delete(1)),t.start>0&&u.ops.unshift({retain:t.start}),u.delete(t.end-t.start),l.quill.updateContents(u,"user"),l.quill.setSelection(t.start+y,t.start+y),S=l.quill.editor.doc.findLineAt(t.start+y),T=S[0],S[1],L=T.node.offsetTop+T.node.offsetHeight,L>i+l.quill.root.offsetHeight&&(i=T.node.offsetTop-l.quill.root.offsetHeight/2),o.scrollTo(0,i),window.scrollTo(n,a)}}(this))},s}(),h.registerModule("paste-manager",v),wn=v,wn}var xn,jr;function xo(){if(jr)return xn;jr=1;var w,_,v,h;return w=St(),h=w.require("lodash"),v=w.require("dom"),_=function(){f.DEFAULTS={container:null},f.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}};function f(p,s){if(this.quill=p,this.options=s,this.options.container==null)throw new Error("container required for toolbar",this.options);this.container=h.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,h.each(this.quill.options.formats,function(o){return function(i){if(f.formats.TOOLTIP[i]==null)return o.initFormat(i,function(t,n){if(!o.triggering)return t.isCollapsed()?o.quill.prepareFormat(i,n):f.formats.LINE[i]!=null?o.quill.formatLine(t,i,n,"user"):o.quill.formatText(t,i,n,"user"),h.defer(function(){return o.updateActive(t,["bullet","list"]),o.setActive(i,n)})})}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(o){return function(i){if(i!=null)return o.updateActive(i)}}(this)),this.quill.onModuleLoad("keyboard",function(o){return function(i){return i.addHotkey([v.KEYS.BACKSPACE,v.KEYS.DELETE,v.KEYS.ENTER],function(){return h.defer(h.bind(o.updateActive,o))})}}(this)),v(this.container).addClass("ql-toolbar-container"),v.isIOS()&&v(this.container).addClass("ios"),v.isIE(11)&&v(this.container).on("mousedown",function(o){return function(){return!1}}())}return f.prototype.initFormat=function(p,s){var o,i,t;if(t=".ql-"+p,f.formats.SELECT[p]!=null?(t="select"+t,o="change"):o="click",i=this.container.querySelector(t),i!=null)return this.inputs[p]=i,v(i).on(o,function(n){return function(){var a,l;return l=o==="change"?v(i).value():!v(i).hasClass("ql-active"),n.preventUpdate=!0,n.quill.focus(),a=n.quill.getSelection(),a!=null&&s(a,l),n.preventUpdate=!1,!0}}(this))},f.prototype.setActive=function(p,s){var o,i,t,n;if(i=this.inputs[p],i!=null)return o=v(i),i.tagName==="SELECT"?(this.triggering=!0,t=o.value(i),s==null&&(s=(n=o.default())!=null?n.value:void 0),h.isArray(s)&&(s=""),s!==t&&(s!=null?o.option(s,!1):o.reset(!1)),this.triggering=!1):o.toggleClass("ql-active",s||!1)},f.prototype.updateActive=function(p,s){var o;if(s==null&&(s=null),p||(p=this.quill.getSelection()),p!=null&&!this.preventUpdate)return o=this._getActive(p),h.each(this.inputs,function(i){return function(t,n){return(!h.isArray(s)||s.indexOf(n)>-1)&&i.setActive(n,o[n]),!0}}(this))},f.prototype._getActive=function(p){var s,o;return s=this._getLeafActive(p),o=this._getLineActive(p),h.defaults({},s,o)},f.prototype._getLeafActive=function(p){var s,o,i,t;return p.isCollapsed()?(t=this.quill.editor.doc.findLineAt(p.start),t[0],i=t[1],i===0?s=this.quill.getContents(p.start,p.end+1):s=this.quill.getContents(p.start-1,p.end)):s=this.quill.getContents(p),o=h.map(s.ops,"attributes"),this._intersectFormats(o)},f.prototype._getLineActive=function(p){var s,o,i,t,n;for(o=[],t=this.quill.editor.doc.findLineAt(p.start),s=t[0],t[1],n=this.quill.editor.doc.findLineAt(p.end),i=n[0],n[1],i!=null&&i===s&&(i=i.next);s!=null&&s!==i;)o.push(h.clone(s.formats)),s=s.next;return this._intersectFormats(o)},f.prototype._intersectFormats=function(p){return h.reduce(p.slice(1),function(s,o){var i,t,n,a,l;return i=h.keys(s),n=h.keys(o),a=h.intersection(i,n),l=h.difference(i,n),t=h.difference(n,i),h.each(a,function(u){if(f.formats.SELECT[u]!=null){if(h.isArray(s[u])){if(h.indexOf(s[u],o[u])<0)return s[u].push(o[u])}else if(s[u]!==o[u])return s[u]=[s[u],o[u]]}}),h.each(l,function(u){if(f.formats.TOGGLE[u]!=null)return delete s[u];if(f.formats.SELECT[u]!=null&&!h.isArray(s[u]))return s[u]=[s[u]]}),h.each(t,function(u){if(f.formats.SELECT[u]!=null)return s[u]=[o[u]]}),s},p[0]||{})},f}(),w.registerModule("toolbar",_),xn=_,xn}var Ln,Br;function Lo(){if(Br)return Ln;Br=1;var w,_,v;return w=St(),v=w.require("lodash"),w.require("delta"),_=function(){h.DEFAULTS={delay:1e3,maxStack:100},h.hotkeys={UNDO:{key:"Z",metaKey:!0},REDO:{key:"Z",metaKey:!0,shiftKey:!0}};function h(f,p){this.quill=f,this.options=p??{},this.lastRecorded=0,this.emittedDelta=null,this.clear(),this.initListeners()}return h.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(f){return function(p){return p.addHotkey(h.hotkeys.UNDO,function(){return f.undo(),!1}),p.addHotkey(h.hotkeys.REDO,function(){return f.redo(),!1})}}(this)),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(f){return function(p,s){if(!v.isEqual(p,f.emittedDelta))return f.record(p,f.oldDelta),f.oldDelta=f.quill.getContents()}}(this))},h.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},h.prototype.record=function(f,p){var s,o,i;if(f.ops.length>0){this.stack.redo=[];try{if(i=this.quill.getContents().diff(this.oldDelta),o=new Date().getTime(),this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0?(s=this.stack.undo.pop(),i=i.compose(s.undo),f=s.redo.compose(f)):this.lastRecorded=o,this.stack.undo.push({redo:f,undo:i}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch{return this.clear()}}},h.prototype.redo=function(){return this._change("redo","undo")},h.prototype.undo=function(){return this._change("undo","redo")},h.prototype._getLastChangeIndex=function(f){var p,s;return s=0,p=0,f.ops.forEach(function(o){if(o.insert!=null)return s=Math.max(p+(o.insert.length||1),s);if(o.delete!=null)return s=Math.max(p,s);if(o.retain!=null)return o.attributes!=null&&(s=Math.max(p+o.retain,s)),p+=o.retain}),s},h.prototype._change=function(f,p){var s,o;if(this.stack[f].length>0)return s=this.stack[f].pop(),this.lastRecorded=0,this.emittedDelta=s[f],this.quill.updateContents(s[f],"user"),this.emittedDelta=null,o=this._getLastChangeIndex(s[f]),this.quill.setSelection(o,o),this.oldDelta=this.quill.getContents(),this.stack[p].push(s)},h}(),w.registerModule("undo-manager",_),Ln=_,Ln}var Cn,Kr;function Co(){return Kr||(Kr=1,yo(),_o(),bo(),Eo(),To(),wo(),xo(),Dn(),Lo(),Cn=St()),Cn}var An,Hr;function Ao(){return Hr||(Hr=1,An=Co()),An}(function(w,_){(function(h,f){w.exports=f(Pt,Ao())})(Ee,function(v,h){return function(f){var p={};function s(o){if(p[o])return p[o].exports;var i=p[o]={exports:{},id:o,loaded:!1};return f[o].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}return s.m=f,s.c=p,s.p="",s(0)}([function(f,p,s){f.exports=s(1),f.exports.Mixin=s(2),f.exports.Toolbar=s(3)},function(f,p,s){var o=s(4),i=s(3),t=s(2),n=o.PropTypes;o.createFactory&&(i=o.createFactory(i));var a=o.createClass({displayName:"Quill",mixins:[t],propTypes:{id:n.string,className:n.string,value:n.string,defaultValue:n.string,readOnly:n.bool,toolbar:n.object,formats:n.array,styles:n.object,theme:n.string,pollInterval:n.number,onChange:n.func},getDefaultProps:function(){return{className:"",modules:{}}},getInitialState:function(){return{}},componentWillReceiveProps:function(l){"value"in l&&l.value!==this.props.value&&this.setEditorContents(this.state.editor,l.value)},componentDidMount:function(){var l=this.createEditor(this.getEditorElement(),this.getEditorConfig());this.setState({editor:l})},componentWillUnmount:function(){this.destroyEditor(this.state.editor)},shouldComponentUpdate:function(l,u){return!1},componentWillUpdate:function(){this.componentWillUnmount()},componentDidUpdate:function(){this.componentDidMount()},getEditorConfig:function(){var l={readOnly:this.props.readOnly,theme:this.props.theme,formats:this.props.formats,styles:this.props.styles,modules:this.props.modules,pollInterval:this.props.pollInterval};return l.modules.toolbar||(l.modules=JSON.parse(JSON.stringify(l.modules)),l.modules.toolbar={container:this.refs.toolbar.getDOMNode()}),l},getEditorElement:function(){return this.refs.editor.getDOMNode()},getEditorContents:function(){return this.props.value||this.props.defaultValue},getClassName:function(){return["quill",this.props.className].join(" ")},renderContents:function(){return o.Children.count(this.props.children)>0?o.Children.only(this.props.children):[i({key:"toolbar",ref:"toolbar",items:this.props.toolbar}),o.DOM.div({key:"editor",ref:"editor",className:"quill-contents",dangerouslySetInnerHTML:{__html:this.getEditorContents()}})]},render:function(){return o.DOM.div({className:this.getClassName(),onChange:this.preventDefault},this.renderContents())},onEditorChange:function(l){l!==this.state.value&&this.props.onChange&&this.props.onChange(l)},preventDefault:function(l){l.preventDefault(),l.stopPropagation()}});f.exports=a},function(f,p,s){var o=s(4),i=s(5);o.PropTypes;var t={createEditor:function(n,a){var l=new i(n,a);return this.hookEditor(l),l},hookEditor:function(n){var a=this;n.on("text-change",function(l,u){a.onEditorChange&&a.onEditorChange(n.getHTML(),l,u)})},updateEditor:function(n,a){throw new Error("Not implemented")},destroyEditor:function(n){n.removeAllListeners()},setEditorContents:function(n,a){var l=n.getSelection();n.setHTML(a),n.setSelection(l)}};f.exports=t},function(f,p,s){var o=s(4),i=o.PropTypes,t=[{label:"Formats",type:"group",items:[{label:"Size",type:"size",items:[{label:"Normal",value:""},{label:"Smaller",value:"0.8em"},{label:"Larger",value:"1.4em"},{label:"Huge",value:"2em"}]},{label:"Alignment",type:"align",items:[{label:"Center",value:"center"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}]}]},{label:"Text",type:"group",items:[{type:"bold",label:"Bold"},{type:"italic",label:"Italic"},{type:"strike",label:"Strike"},{type:"underline",label:"Underline"},{type:"link",label:"Link"}]},{label:"Blocks",type:"group",items:[{type:"bullet",label:"Bullet"},{type:"list",label:"List"}]}],n=o.createClass({displayName:"Quill Toolbar",propTypes:{id:i.string,className:i.string,items:i.array},getDefaultProps:function(){return{items:t}},renderGroup:function(a){return o.DOM.span({key:a.label,className:"ql-format-group"},a.items.map(this.renderItem))},renderChoiceItem:function(a){return o.DOM.option({key:a.label||a.value,value:a.value},a.label)},renderChoices:function(a){return o.DOM.select({key:a.label,className:"ql-"+a.type},a.items.map(this.renderChoiceItem))},renderAction:function(a){return o.DOM.span({key:a.label||a.value,className:"ql-format-button ql-"+a.type,title:a.label})},renderItem:function(a){var l={group:this.renderGroup,align:this.renderChoices,size:this.renderChoices,action:this.renderAction},u=l[a.type]||l.action;return u(a)},getClassName:function(){return"quill-toolbar "+(this.props.className||"")},render:function(){return o.DOM.div({className:this.getClassName()},this.props.items.map(this.renderItem))}});f.exports=n},function(f,p,s){f.exports=v},function(f,p,s){f.exports=h}])})})(Gr);var So=Gr.exports;const No=Bs(So);function qo({value:w,onChange:_}){const v=(h,f,p,s)=>{_(h)};return U.jsx("div",{className:"text-editor",children:U.jsx(No,{modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["image","video"],["clean"]]},value:w,onChange:v})})}function Do(){const[w,_]=Pt.useState([]),v=p=>{const s=Array.from(p.target.files);_([...w,...s])},h=p=>{p.preventDefault();const s=Array.from(p.dataTransfer.files);_([...w,...s])},f=p=>{const s=w.filter((o,i)=>i!==p);_(s)};return U.jsxs("div",{className:"file-input-dropdown",children:[U.jsxs("div",{className:"file-input-container",onDrop:h,onDragOver:p=>p.preventDefault(),children:[U.jsx("label",{htmlFor:"file-input",className:"file-input-label",children:"Select or Drop Files"}),U.jsx("input",{type:"file",multiple:!0,onChange:v,id:"file-input",className:"file-input"})]}),w.length>0&&U.jsx("div",{className:"dropdown",children:w.map((p,s)=>U.jsxs("div",{className:"file-item",children:[U.jsx("span",{children:p.name}),U.jsx("button",{onClick:()=>f(s),children:U.jsx("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:U.jsx("path",{d:"M5.99932 7.41421L1.75668 11.6569L0.342465 10.2426L4.58511 6L0.342466 1.75736L1.75668 0.343143L5.99932 4.58579L10.242 0.343143L11.6562 1.75736L7.41354 6L11.6562 10.2426L10.242 11.6569L5.99932 7.41421Z"})})})]},s))})]})}function Ko({auth:w,laravelVersion:_,phpVersion:v,globalAlert:h}){const[f,p]=Pt.useState(""),[s,o]=Pt.useState(!0),i=D=>{o(D)},[t,n]=Pt.useState(!1),a=()=>{n(!t)},[l,u]=Pt.useState("option1"),g=D=>{u(D)},[y,T]=Pt.useState(""),L=D=>{T(D)},S=()=>{Hs.info(h)};return U.jsxs(U.Fragment,{children:[U.jsx(Ks,{title:"Welcome"}),U.jsx(or,{}),U.jsx(or,{text:!0}),U.jsx(ke,{required:!0,value:"Text"}),U.jsx(be,{type:"text",placeholder:"input text"}),U.jsx(ke,{value:"Text disabled"}),U.jsx(be,{disabled:!0,type:"text",placeholder:"input text"}),U.jsx(ke,{value:"Password"}),U.jsx(be,{type:"Password",placeholder:"Password"}),U.jsx(Gs,{message:"error with code"}),U.jsx(be,{type:"time"}),U.jsx(qo,{value:f,onChange:p}),U.jsx(ks,{label:"Active",initialValue:s,onChange:i}),U.jsx(Do,{}),U.jsx(ze,{children:"Create"}),U.jsx(ze,{disabled:!0,children:"Disabled"}),U.jsx(zs,{options:["Option 1","Option 2","Option 3","Option 1","Option 2","Option 3","Option 1","Option 2","Option 3","Option 1","Option 2","Option 3","Option 1","Option 2","Option 3"],defaultValue:"Default Option",defaultSelectable:!1,value:y,onChange:L}),U.jsx(ur,{label:"Checkbox",checked:t,onChange:a}),U.jsx(ur,{disabled:!0,label:"Checkbox",checked:t,onChange:a}),U.jsxs("div",{children:[U.jsx(Qe,{label:"Option 1",checked:l==="option1",onChange:()=>g("option1")}),U.jsx(Qe,{label:"Option 2",checked:l==="option2",onChange:()=>g("option2")}),U.jsx(Qe,{label:"Option 3 (Disabled)",checked:l==="option3",disabled:!0})]}),U.jsx(ze,{onClick:S,children:"Show Toast"})]})}export{Ko as default};
