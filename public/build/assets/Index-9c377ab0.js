import{r as o,Q as N,j as e,a as y}from"./app-0845fc43.js";import{A as g,I as c}from"./AdminLayout-385a6977.js";import{D as r,P as C}from"./DateFormatted-3d5e58e0.js";import{M as I}from"./Modal-1142a153.js";import"./ApplicationLogo-1c541169.js";import"./Dropdown-508a4114.js";import"./transition-71b2dc7e.js";import"./PrimaryButton-dd7d6e28.js";function P({auth:b,departments:a,can:i,message:l,error:n}){var h,j,p,u,f;function D(t){if(confirm("Are you sure you want to delete?")){const d=document.querySelector('meta[name="csrf-token"]').content;fetch(route("department.destroy",t),{method:"DELETE",headers:{"X-CSRF-TOKEN":d}}).then(()=>{window.location.reload()})}}const[E,m]=o.useState(!1),[s,k]=o.useState(null),v=t=>{m(!0),k(t)},x=()=>{m(!1)};return o.useEffect(()=>{l&&N.success(l),n&&N.error(n)},[l,n]),e.jsxs(g,{user:b.user,header:e.jsx("h2",{className:"font-medium text-lg lg:text-2xl",children:"Departments"}),addElement:i.create,searchField:!0,sortOptions:[{key:"id",label:"Id (Ascending)"},{key:"-id",label:"Id (Descending)"},{key:"name",label:"Name (A to Z)"},{key:"-name",label:"Name (Z to A)"}],children:[e.jsx(y,{title:"Departments"}),e.jsx("div",{className:"pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"admin-list",children:a.data.map((t,d)=>e.jsxs("div",{className:"card-default",onClick:()=>v(d),children:[e.jsx("h5",{className:"form-text",children:t.name}),e.jsxs("span",{children:["Updated at"," ",e.jsx(r,{inputDate:t.updated_at})]})]},d))}),e.jsx(I,{show:E,onClose:x,children:a.data[s]&&e.jsxs("div",{className:"card-modal",children:[e.jsx("button",{className:"fixed right-4",onClick:x,children:e.jsx(c,{icon:"mdi:close"})}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Short"}),e.jsx("h5",{className:"form-text",children:(h=a.data[s])==null?void 0:h.short})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Name"}),e.jsx("h5",{className:"form-text",children:(j=a.data[s])==null?void 0:j.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Chief"}),e.jsx("h5",{className:"form-text",children:(p=a.data[s])==null?void 0:p.chief})]}),e.jsxs("div",{className:"grid gap-1 m-auto",children:[e.jsxs("span",{children:["Created at"," ",e.jsx(r,{inputDate:(u=a.data[s])==null?void 0:u.created_at})]}),e.jsxs("span",{children:["Updated at"," ",e.jsx(r,{inputDate:(f=a.data[s])==null?void 0:f.updated_at})]})]}),i.edit&&e.jsxs("a",{className:"admin-edit",href:route("department.edit",a.data[s].id),children:["Edit ",e.jsx(c,{icon:"mdi:pencil"})]}),i.delete&&e.jsxs("button",{className:"admin-delete",onClick:()=>D(a.data[s].id),children:["Delete",e.jsx(c,{icon:"mdi:trash"})]})]})}),e.jsx(C,{pageContent:a})]})})]})}export{P as default};
