import{r as s,Q as k,j as a,a as e,b as O}from"./app-9c633b3e.js";import{A as w,I as r}from"./AdminLayout-ec2ba906.js";import{D as m,P as M}from"./DateFormatted-0cb0498e.js";import{M as S}from"./Modal-c562a0ec.js";import"./ApplicationLogo-8482edb2.js";import"./Dropdown-77418e2c.js";import"./transition-ad9216bd.js";import"./PrimaryButton-1c8fa329.js";function q({auth:g,users:t,can:n,message:c,error:o}){var N,f,u,v,x,b;function E(d){if(confirm("Are you sure you want to delete?")){const i=document.querySelector('meta[name="csrf-token"]').content;fetch(route("user.destroy",d),{method:"DELETE",headers:{"X-CSRF-TOKEN":i}}).then(()=>{window.location.reload()})}}const[y,h]=s.useState(!1),[l,D]=s.useState(null),C=d=>{h(!0),D(d)},p=()=>{h(!1)};return s.useEffect(()=>{c&&k.success(c),o&&k.error(o)},[c,o]),a(w,{user:g.user,header:e("h2",{className:"font-medium text-lg lg:text-2xl",children:"Користувачі"}),addElement:n.create,searchField:!0,sortOptions:[{key:"id",label:"Id (Ascending)"},{key:"-id",label:"Id (Descending)"},{key:"name",label:"Name (A to Z)"},{key:"-name",label:"Name (Z to A)"}],children:[e(O,{title:"Користувачі"}),e("div",{className:"pb-12",children:a("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"admin-list",children:t.data.map((d,i)=>a("div",{className:"card-default flex",onClick:()=>C(i),children:[a("div",{children:[e("h5",{className:"form-text",children:d.name}),a("span",{children:["Updated at"," ",e(m,{inputDate:d.updated_at})]})]}),e("div",{className:"hidden lg:block flex-1",children:d.roles.length==0?e("div",{className:"options-block",children:e("div",{className:"chip",children:"No data"})}):e("div",{className:"options-block",children:d.roles.map((I,A)=>e("div",{className:"chip",children:I.name},A))})})]},i))}),e(S,{show:y,onClose:p,children:t.data[l]&&a("div",{className:"card-modal",children:[e("button",{className:"fixed right-4",onClick:p,children:e(r,{icon:"mdi:close"})}),a("div",{children:[e("span",{className:"form-label",children:"Name"}),e("h5",{className:"form-text",children:(N=t.data[l])==null?void 0:N.name})]}),a("div",{children:[e("span",{className:"form-label",children:"Email"}),e("h5",{className:"form-text",children:(f=t.data[l])==null?void 0:f.email})]}),a("div",{children:[e("span",{className:"form-label",children:"Roles"}),((u=t.data[l])==null?void 0:u.roles.length)==0?e("div",{className:"options-block",children:e("div",{className:"chip",children:"No data"})}):e("div",{className:"options-block",children:(v=t.data[l])==null?void 0:v.roles.map(d=>e("div",{className:"chip",children:d.name}))})]}),a("div",{className:"grid gap-1 m-auto",children:[a("span",{children:["Created at"," ",e(m,{inputDate:(x=t.data[l])==null?void 0:x.created_at})]}),a("span",{children:["Updated at"," ",e(m,{inputDate:(b=t.data[l])==null?void 0:b.updated_at})]})]}),n.edit&&a("a",{className:"admin-edit",href:route("user.edit",t.data[l].id),children:["Edit ",e(r,{icon:"mdi:pencil"})]}),n.delete&&a("button",{className:"admin-delete",onClick:()=>E(t.data[l].id),children:["Delete",e(r,{icon:"mdi:trash"})]})]})}),e(M,{pageContent:t})]})})]})}export{q as default};
