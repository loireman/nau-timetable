import{W as w,r as S,j as e,a as k}from"./app-3f991094.js";import{I as u}from"./InputError-42e959f7.js";import{I as i}from"./InputLabel-51dab53a.js";import{P as I}from"./PrimaryButton-9a5f9532.js";import{T as C}from"./TextInput-3626aeb0.js";import{A as y}from"./AdminLayout-195a0e0a.js";import{d as E}from"./index-1719cec8.js";import{S as c}from"./Select-e204091d.js";import{I as x}from"./InputSwitch-e454b3f8.js";import{I as F}from"./iconify-a476321f.js";import"./ApplicationLogo-f5d5a89a.js";import"./Dropdown-e3249ef9.js";import"./transition-5fcbd40a.js";import"./Modal-3a8d1611.js";function K({auth:p,group:t,streams:h,substreams:g,group_streams:m}){const{data:a,setData:l,post:T,processing:f,errors:d,reset:P}=w({_method:"PUT",name:t.name,stream_id:t.stream_id??null,substream_id:t.substream_id??null,single_week:!!t.single_week,single_group:!!t.single_group}),[r,j]=S.useState(t.stream_id===null),n=m.length>0,b=s=>{s.preventDefault(),E.Inertia.put(route("group.update",{group:t}),a)},_=s=>{l("stream_id",s)},v=s=>{l("substream_id",s)},o=s=>{n||(l(s===!0?"stream_id":"substream_id",null),j(s))};return e.jsxs(y,{user:p.user,header:e.jsx("h2",{className:"font-medium text-lg lg:text-2xl",children:"group edit"}),children:[e.jsx(k,{title:"group edit"}),e.jsx("div",{className:"pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[n&&e.jsxs("div",{className:"px-8 py-4 bg-orange-200 text-orange-700 rounded-2xl",children:[e.jsx("p",{children:"Зміна типу групи неможлива, наявні групи що активні:"}),m.map((s,N)=>e.jsx("div",{children:e.jsxs("a",{href:route("group.edit",s.id),target:"blank",children:[s.name,e.jsx(F,{className:"inline align-top",icon:"mdi:external-link"})]})},N))]}),e.jsxs("form",{className:"px-4 py-8",onSubmit:b,children:[e.jsxs("div",{className:"mt-3 flex justify-around overflow-clip rounded-lg border bg-gray-100 border-gray-500",children:[e.jsx("div",{className:`${r?"":n?"bg-gray-600 text-white":"bg-blue-600 text-white"} w-1/2 p-3 text-center font-semibold rounded-md max-md:truncate overflow-hidden`,onClick:()=>o(!1),children:"Поток"}),e.jsx("div",{className:`${r?"bg-blue-600 text-white":""} w-1/2 p-3 text-center font-semibold rounded-md max-md:truncate overflow-hidden`,onClick:()=>o(!0),children:"Група"})]}),e.jsx(i,{htmlFor:"name",value:"group name"}),e.jsx(C,{id:"name",name:"name",value:a.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:s=>l("name",s.target.value),required:!0}),e.jsx(u,{message:d.name,className:"mt-2"}),r?e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"mt-3",htmlFor:"substream_id",value:"Sub Stream"}),e.jsx(c,{options:g,defaultValue:"Виберіть поток групи",defaultSelectable:!1,value:a.substream_id,onChange:v}),e.jsx("div",{className:"mt-3",children:e.jsx(x,{label:e.jsx("span",{className:"font-semibold",children:"Без поділу на тижні"}),initialValue:a.single_week,onChange:()=>l("single_week",!a.single_week)})}),e.jsx("div",{className:"mt-3",children:e.jsx(x,{label:e.jsx("span",{className:"font-semibold",children:"Без поділу на підгрупи"}),initialValue:a.single_group,onChange:()=>l("single_group",!a.single_group)})})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"mt-3",htmlFor:"stream_id",value:"Stream"}),e.jsx(c,{options:h,defaultValue:"Виберіть поток",defaultSelectable:!1,value:a.stream_id,onChange:_})]}),e.jsx(u,{message:d.stream_id,className:"mt-2"}),e.jsx(I,{className:"mt-16 w-full grid",disabled:f,children:e.jsx("span",{className:"text-[1rem]",children:"Update"})})]})]})})]})}export{K as default};
