import{r as c,Q as N,j as e,a as D}from"./app-d33b0834.js";import{A as C}from"./AdminLayout-df30a170.js";import{D as o,P as I}from"./DateFormatted-071280f8.js";import{I as r}from"./iconify-a35b0c91.js";import{M as A}from"./Modal-8c67aad6.js";import"./ApplicationLogo-b5b643b5.js";import"./Dropdown-f99c438a.js";import"./transition-90ed61cc.js";import"./PrimaryButton-b95c4174.js";function U({auth:v,roles:s,can:d,message:n,error:l}){var h,p,j,u,f;function b(a){if(confirm("Are you sure you want to delete?")){const i=document.querySelector('meta[name="csrf-token"]').content;fetch(route("role.destroy",a),{method:"DELETE",headers:{"X-CSRF-TOKEN":i}}).then(()=>{window.location.reload()})}}const[k,m]=c.useState(!1),[t,g]=c.useState(null),E=a=>{m(!0),g(a)},x=()=>{m(!1)};return c.useEffect(()=>{n&&N.success(n),l&&N.error(l)},[n,l]),e.jsxs(C,{user:v.user,header:e.jsx("h2",{className:"font-medium text-lg lg:text-2xl",children:"Ролі користувачів"}),addElement:d.create,searchField:!0,sortOptions:[{key:"id",label:"Id (Ascending)"},{key:"-id",label:"Id (Descending)"},{key:"name",label:"Name (A to Z)"},{key:"-name",label:"Name (Z to A)"}],children:[e.jsx(D,{title:"Ролі користувачів"}),e.jsx("div",{className:"pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"admin-list",children:s.data.map((a,i)=>e.jsxs("div",{className:"card-default flex",onClick:()=>E(i),children:[e.jsxs("div",{children:[e.jsx("h5",{className:"form-text",children:a.name}),e.jsxs("span",{children:["Updated at"," ",e.jsx(o,{inputDate:a.updated_at})]})]}),e.jsx("div",{className:"hidden lg:block flex-1",children:a.permissions.length==0?e.jsx("div",{className:"options-block",children:e.jsx("div",{className:"chip",children:"No data"})}):e.jsx("div",{className:"options-block",children:a.permissions.map(y=>e.jsx("div",{className:"chip",children:y.name}))})})]},i))}),e.jsx(A,{show:k,onClose:x,children:s.data[t]&&e.jsxs("div",{className:"card-modal",children:[e.jsx("button",{className:"fixed right-4 outline-0",onClick:x,children:e.jsx(r,{icon:"mdi:close"})}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Name"}),e.jsx("h5",{className:"form-text",children:(h=s.data[t])==null?void 0:h.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Permissions"}),((p=s.data[t])==null?void 0:p.permissions.length)==0?e.jsx("div",{className:"options-block",children:e.jsx("div",{className:"chip",children:"No data"})}):e.jsx("div",{className:"options-block",children:(j=s.data[t])==null?void 0:j.permissions.map(a=>e.jsx("div",{className:"chip",children:a.name}))})]}),e.jsxs("div",{className:"grid gap-1 m-auto",children:[e.jsxs("span",{children:["Created at"," ",e.jsx(o,{inputDate:(u=s.data[t])==null?void 0:u.created_at})]}),e.jsxs("span",{children:["Updated at"," ",e.jsx(o,{inputDate:(f=s.data[t])==null?void 0:f.updated_at})]})]}),d.edit&&e.jsxs("a",{className:"admin-edit",href:route("role.edit",s.data[t].id),children:["Edit ",e.jsx(r,{icon:"mdi:pencil"})]}),d.delete&&e.jsxs("button",{className:"admin-delete",onClick:()=>b(s.data[t].id),children:["Delete",e.jsx(r,{icon:"mdi:trash"})]})]})}),e.jsx(I,{pageContent:s})]})})]})}export{U as default};
